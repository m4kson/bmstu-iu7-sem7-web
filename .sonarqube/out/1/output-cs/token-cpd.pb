÷Ç
}/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/UserRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class 
UserRepository 
:  !
IUserRepository" 1
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public 
UserRepository 
( 
ProdMonitorContext 0
context1 8
)8 9
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
User 
> 
CreateUserAsync  /
(/ 0

UserCreate0 :
user; ?
)? @
{ 	
try 
{ 
var 
newUser 
= 
new !
UserDb" (
(( )
id 
: 
Guid 
. 
NewGuid $
($ %
)% &
,& '
name 
: 
user 
. 
Name #
,# $
surname 
: 
user !
.! "
Surname" )
,) *

patronymic 
: 
user  $
.$ %

Patronymic% /
,/ 0

department 
: 
user  $
.$ %

Department% /
,/ 0
email   
:   
user   
.    
Email    %
,  % &
passwordHash!!  
:!!  !
user!!" &
.!!& '
PasswordHash!!' 3
,!!3 4
passwordSalt""  
:""  !
user""" &
.""& '
PasswordSalt""' 3
,""3 4
birthDay## 
:## 
user## "
.##" #
BirthDay### +
,##+ ,
sex$$ 
:$$ 
SexTypeConverter$$ )
.$$) *
ToDb$$* .
($$. /
user$$/ 3
.$$3 4
Sex$$4 7
)$$7 8
,$$8 9
role%% 
:%% 
RoleTypeConverter%% +
.%%+ ,
ToDb%%, 0
(%%0 1
user%%1 5
.%%5 6
Role%%6 :
)%%: ;
)&& 
;&& 
_context** 
.** 
Users** 
.** 
Add** "
(**" #
newUser**# *
!*** +
)**+ ,
;**, -
await++ 
_context++ 
.++ 
SaveChangesAsync++ /
(++/ 0
)++0 1
;++1 2
return-- 
UserConverter-- $
.--$ %
ToDomain--% -
(--- .
newUser--. 5
)--5 6
!--6 7
;--7 8
}.. 
catch// 
(// 
	Exception// 
ex// 
)//  
{00 
throw11 
new11 #
UserRepositoryException11 1
(111 2
$str112 I
,11I J
ex11K M
)11M N
;11N O
}22 
}33 	
public55 
async55 
Task55 
DeleteUserAsync55 )
(55) *
Guid55* .
userId55/ 5
)555 6
{66 	
try77 
{88 
var99 
user99 
=99 
await99  
_context99! )
.99) *
Users99* /
.99/ 0
	FindAsync990 9
(999 :
userId99: @
)99@ A
;99A B
if:: 
(:: 
user:: 
==:: 
null::  
)::  !
{;; 
throw<< 
new<< !
UserNotFoundException<< 3
(<<3 4
$"<<4 6
$str<<6 C
{<<C D
userId<<D J
}<<J K
$str<<K U
"<<U V
)<<V W
;<<W X
}== 
_context?? 
.?? 
Users?? 
.?? 
Remove?? %
(??% &
user??& *
)??* +
;??+ ,
await@@ 
_context@@ 
.@@ 
SaveChangesAsync@@ /
(@@/ 0
)@@0 1
;@@1 2
}AA 
catchBB 
(BB 
	ExceptionBB 
exBB 
)BB  
{CC 
throwDD 
newDD #
UserRepositoryExceptionDD 1
(DD1 2
$strDD2 I
,DDI J
exDDK M
)DDM N
;DDN O
}EE 
}FF 	
publicHH 
asyncHH 
TaskHH 
<HH 
UserHH 
>HH 
UpdateUserAsyncHH  /
(HH/ 0
GuidHH0 4
userIdHH5 ;
,HH; <

UserCreateHH= G
userDataHHH P
)HHP Q
{II 	
tryJJ 
{KK 
varLL 
userLL 
=LL 
awaitLL  
_contextLL! )
.LL) *
UsersLL* /
.MM 
FirstOrDefaultAsyncMM (
(MM( )
uMM) *
=>MM+ -
uMM. /
.MM/ 0
IdMM0 2
==MM3 5
userIdMM6 <
)MM< =
;MM= >
ifNN 
(NN 
userNN 
==NN 
nullNN  
)NN  !
{OO 
throwPP 
newPP !
UserNotFoundExceptionPP 3
(PP3 4
$"PP4 6
$strPP6 C
{PPC D
userIdPPD J
}PPJ K
$strPPK U
"PPU V
)PPV W
;PPW X
}QQ 
userSS 
.SS 
NameSS 
=SS 
userDataSS $
.SS$ %
NameSS% )
;SS) *
userTT 
.TT 
SurnameTT 
=TT 
userDataTT '
.TT' (
SurnameTT( /
;TT/ 0
userUU 
.UU 

PatronymicUU 
=UU  !
userDataUU" *
.UU* +

PatronymicUU+ 5
;UU5 6
userVV 
.VV 

DepartmentVV 
=VV  !
userDataVV" *
.VV* +

DepartmentVV+ 5
;VV5 6
userWW 
.WW 
EmailWW 
=WW 
userDataWW %
.WW% &
EmailWW& +
;WW+ ,
userXX 
.XX 
PasswordHashXX !
=XX" #
userDataXX$ ,
.XX, -
PasswordHashXX- 9
;XX9 :
userYY 
.YY 
PasswordSaltYY !
=YY" #
userDataYY$ ,
.YY, -
PasswordSaltYY- 9
;YY9 :
userZZ 
.ZZ 
BirthDayZZ 
=ZZ 
userDataZZ  (
.ZZ( )
BirthDayZZ) 1
;ZZ1 2
user[[ 
.[[ 
Sex[[ 
=[[ 
SexTypeConverter[[ +
.[[+ ,
ToDb[[, 0
([[0 1
userData[[1 9
.[[9 :
Sex[[: =
)[[= >
;[[> ?
user\\ 
.\\ 
Role\\ 
=\\ 
RoleTypeConverter\\ -
.\\- .
ToDb\\. 2
(\\2 3
userData\\3 ;
.\\; <
Role\\< @
)\\@ A
;\\A B
user]] 
.]] 
TwoFactorCode]] "
=]]# $
userData]]% -
.]]- .
TwoFactorCode]]. ;
;]]; <
user^^ 
.^^ 
TwoFactorExpiration^^ (
=^^) *
userData^^+ 3
.^^3 4
TwoFactorExpiration^^4 G
;^^G H
await`` 
_context`` 
.`` 
SaveChangesAsync`` /
(``/ 0
)``0 1
;``1 2
returnaa 
UserConverteraa $
.aa$ %
ToDomainaa% -
(aa- .
useraa. 2
)aa2 3
!aa3 4
;aa4 5
}bb 
catchcc 
(cc !
UserNotFoundExceptioncc (
)cc( )
{dd 
throwee 
;ee 
}ff 
catchgg 
(gg 
	Exceptiongg 
exgg 
)gg  
{hh 
throwii 
newii #
UserRepositoryExceptionii 1
(ii1 2
$strii2 L
,iiL M
exiiN P
)iiP Q
;iiQ R
}jj 
}kk 	
publicmm 
asyncmm 
Taskmm 
<mm 
Listmm 
<mm 
Usermm #
>mm# $
>mm$ %
GetAllUsersAsyncmm& 6
(mm6 7

UserFiltermm7 A
filtermmB H
)mmH I
{nn 	
tryoo 
{pp 

IQueryableqq 
<qq 
UserDbqq !
>qq! "
queryqq# (
=qq) *
_contextqq+ 3
.qq3 4
Usersqq4 9
;qq9 :
ifss 
(ss 
!ss 
stringss 
.ss 
IsNullOrEmptyss )
(ss) *
filterss* 0
.ss0 1

Departmentss1 ;
)ss; <
)ss< =
{tt 
queryuu 
=uu 
queryuu !
.uu! "
Whereuu" '
(uu' (
uuu( )
=>uu* ,
uuu- .
.uu. /

Departmentuu/ 9
==uu: <
filteruu= C
.uuC D

DepartmentuuD N
)uuN O
;uuO P
}vv 
ifxx 
(xx 
filterxx 
.xx 
BirthDayxx #
.xx# $
HasValuexx$ ,
)xx, -
{yy 
queryzz 
=zz 
queryzz !
.zz! "
Wherezz" '
(zz' (
uzz( )
=>zz* ,
uzz- .
.zz. /
BirthDayzz/ 7
==zz8 :
filterzz; A
.zzA B
BirthDayzzB J
.zzJ K
ValuezzK P
)zzP Q
;zzQ R
}{{ 
if}} 
(}} 
filter}} 
.}} 
Sex}} 
.}} 
HasValue}} '
)}}' (
{~~ 
query 
= 
query !
.! "
Where" '
(' (
u( )
=>* ,
u- .
.. /
Sex/ 2
==3 5
(6 7
	SexTypeDb7 @
)@ A
filterA G
.G H
SexH K
.K L
ValueL Q
)Q R
;R S
}
ÄÄ 
if
ÇÇ 
(
ÇÇ 
filter
ÇÇ 
.
ÇÇ 
Role
ÇÇ 
.
ÇÇ  
HasValue
ÇÇ  (
)
ÇÇ( )
{
ÉÉ 
query
ÑÑ 
=
ÑÑ 
query
ÑÑ !
.
ÑÑ! "
Where
ÑÑ" '
(
ÑÑ' (
u
ÑÑ( )
=>
ÑÑ* ,
u
ÑÑ- .
.
ÑÑ. /
Role
ÑÑ/ 3
==
ÑÑ4 6
(
ÑÑ7 8

RoleTypeDb
ÑÑ8 B
)
ÑÑB C
filter
ÑÑC I
.
ÑÑI J
Role
ÑÑJ N
.
ÑÑN O
Value
ÑÑO T
)
ÑÑT U
;
ÑÑU V
}
ÖÖ 
var
áá 
users
áá 
=
áá 
await
áá !
query
áá" '
.
àà 
Skip
àà 
(
àà 
filter
àà  
.
àà  !
Skip
àà! %
)
àà% &
.
ââ 
Take
ââ 
(
ââ 
filter
ââ  
.
ââ  !
Limit
ââ! &
)
ââ& '
.
ää 
AsNoTracking
ää !
(
ää! "
)
ää" #
.
ãã 
ToListAsync
ãã  
(
ãã  !
)
ãã! "
;
ãã" #
return
çç 
users
çç 
.
çç 

ConvertAll
çç '
(
çç' (
UserConverter
çç( 5
.
çç5 6
ToDomain
çç6 >
)
çç> ?
!
çç? @
;
çç@ A
}
éé 
catch
èè 
(
èè 
	Exception
èè 
ex
èè 
)
èè  
{
êê 
throw
ëë 
new
ëë %
UserRepositoryException
ëë 1
(
ëë1 2
$str
ëë2 L
,
ëëL M
ex
ëëN P
)
ëëP Q
;
ëëQ R
}
íí 
}
ìì 	
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
User
ïï 
?
ïï 
>
ïï  !
GetUserByEmailAsync
ïï! 4
(
ïï4 5
string
ïï5 ;
email
ïï< A
)
ïïA B
{
ññ 	
try
óó 
{
òò 
var
ôô 
userDb
ôô 
=
ôô 
await
ôô "
_context
ôô# +
.
ôô+ ,
Users
ôô, 1
.
öö 
AsNoTracking
öö !
(
öö! "
)
öö" #
.
õõ !
FirstOrDefaultAsync
õõ (
(
õõ( )
u
õõ) *
=>
õõ+ -
u
õõ. /
.
õõ/ 0
Email
õõ0 5
==
õõ6 8
email
õõ9 >
)
õõ> ?
;
õõ? @
return
ùù 
UserConverter
ùù $
.
ùù$ %
ToDomain
ùù% -
(
ùù- .
userDb
ùù. 4
)
ùù4 5
;
ùù5 6
}
ûû 
catch
üü 
(
üü 
	Exception
üü 
ex
üü 
)
üü  
{
†† 
throw
°° 
new
°° %
UserRepositoryException
°° 1
(
°°1 2
$str
°°2 T
,
°°T U
ex
°°V X
)
°°X Y
;
°°Y Z
}
¢¢ 
}
££ 	
public
¶¶ 
async
¶¶ 
Task
¶¶ 
<
¶¶ 
User
¶¶ 
?
¶¶ 
>
¶¶  
GetUserByIdAsync
¶¶! 1
(
¶¶1 2
Guid
¶¶2 6
id
¶¶7 9
)
¶¶9 :
{
ßß 	
try
®® 
{
©© 
var
™™ 
userDb
™™ 
=
™™ 
await
™™ "
_context
™™# +
.
™™+ ,
Users
™™, 1
.
´´ 
AsNoTracking
´´ !
(
´´! "
)
´´" #
.
¨¨ !
FirstOrDefaultAsync
¨¨ (
(
¨¨( )
u
¨¨) *
=>
¨¨+ -
u
¨¨. /
.
¨¨/ 0
Id
¨¨0 2
==
¨¨3 5
id
¨¨6 8
)
¨¨8 9
;
¨¨9 :
return
ÆÆ 
UserConverter
ÆÆ $
.
ÆÆ$ %
ToDomain
ÆÆ% -
(
ÆÆ- .
userDb
ÆÆ. 4
)
ÆÆ4 5
;
ÆÆ5 6
}
ØØ 
catch
∞∞ 
(
∞∞ 
	Exception
∞∞ 
ex
∞∞ 
)
∞∞  
{
±± 
throw
≤≤ 
new
≤≤ %
UserRepositoryException
≤≤ 1
(
≤≤1 2
$str
≤≤2 Q
,
≤≤Q R
ex
≤≤S U
)
≤≤U V
;
≤≤V W
}
≥≥ 
}
¥¥ 	
public
∂∂ 
async
∂∂ 
Task
∂∂ 
<
∂∂ 
User
∂∂ 
>
∂∂ !
UpdateUserRoleAsync
∂∂  3
(
∂∂3 4
Guid
∂∂4 8
userId
∂∂9 ?
,
∂∂? @
UserUpdateRole
∂∂A O

roleUpdate
∂∂P Z
)
∂∂Z [
{
∑∑ 	
try
∏∏ 
{
ππ 
var
∫∫ 
userDb
∫∫ 
=
∫∫ 
await
∫∫ "
_context
∫∫# +
.
∫∫+ ,
Users
∫∫, 1
.
∫∫1 2
	FindAsync
∫∫2 ;
(
∫∫; <
userId
∫∫< B
)
∫∫B C
;
∫∫C D
if
ªª 
(
ªª 
userDb
ªª 
==
ªª 
null
ªª "
)
ªª" #
{
ºº 
throw
ΩΩ 
new
ΩΩ #
UserNotFoundException
ΩΩ 3
(
ΩΩ3 4
$"
ΩΩ4 6
$str
ΩΩ6 C
{
ΩΩC D
userId
ΩΩD J
}
ΩΩJ K
$str
ΩΩK U
"
ΩΩU V
)
ΩΩV W
;
ΩΩW X
}
ææ 
userDb
¿¿ 
.
¿¿ 
Role
¿¿ 
=
¿¿ 
(
¿¿ 

RoleTypeDb
¿¿ )
)
¿¿) *

roleUpdate
¿¿* 4
.
¿¿4 5
Role
¿¿5 9
;
¿¿9 :
await
¡¡ 
_context
¡¡ 
.
¡¡ 
SaveChangesAsync
¡¡ /
(
¡¡/ 0
)
¡¡0 1
;
¡¡1 2
return
√√ 
UserConverter
√√ $
.
√√$ %
ToDomain
√√% -
(
√√- .
userDb
√√. 4
)
√√4 5
!
√√5 6
;
√√6 7
}
ƒƒ 
catch
≈≈ 
(
≈≈ #
UserNotFoundException
≈≈ (
)
≈≈( )
{
∆∆ 
throw
«« 
;
«« 
}
»» 
catch
…… 
(
…… 
	Exception
…… 
ex
…… 
)
……  
{
   
throw
ÀÀ 
new
ÀÀ %
UserRepositoryException
ÀÀ 1
(
ÀÀ1 2
$str
ÀÀ2 N
,
ÀÀN O
ex
ÀÀP R
)
ÀÀR S
;
ÀÀS T
}
ÃÃ 
}
ÕÕ 	
}
ŒŒ 
}œœ —T
Ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/TractorRepository.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Repositories		! -
{

 
public 

class 
TractorRepository "
:# $
ITractorRepository% 7
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public 
TractorRepository  
(  !
ProdMonitorContext! 3
context4 ;
); <
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
Tractor !
>! "
CreateTractorAsync# 5
(5 6
TractorCreate6 C
tractorD K
)K L
{ 	
try 
{ 
var 

newTractor 
=  
new! $
	TractorDb% .
{ 
Id 
= 
Guid 
. 
NewGuid %
(% &
)& '
,' (
Model 
= 
tractor #
.# $
Model$ )
,) *
ReleaseYear 
=  !
tractor" )
.) *
ReleaseYear* 5
,5 6

EngineType 
=  
tractor! (
.( )

EngineType) 3
,3 4
EnginePower 
=  !
tractor" )
.) *
EnginePower* 5
,5 6
FrontTireSize   !
=  " #
tractor  $ +
.  + ,
frontTireSize  , 9
,  9 :
BackTireSize!!  
=!!! "
tractor!!# *
.!!* +
backTireSize!!+ 7
,!!7 8
WheelsAmount""  
=""! "
tractor""# *
.""* +
wheelsAmount""+ 7
,""7 8
TankCapacity##  
=##! "
tractor### *
.##* +
tankCapacity##+ 7
,##7 8
EcologicalStandard$$ &
=$$' (
tractor$$) 0
.$$0 1
ecologicalStandart$$1 C
,$$C D
Length%% 
=%% 
tractor%% $
.%%$ %
length%%% +
,%%+ ,
Width&& 
=&& 
tractor&& #
.&&# $
width&&$ )
,&&) *
CabinHeight'' 
=''  !
tractor''" )
.'') *
cabinHeight''* 5
,''5 6
AssemblyLines(( !
=((" #
tractor(($ +
.((+ ,
assemblyLines((, 9
?((9 :
.((: ;
Select((; A
(((A B!
AssemblyLineConverter((B W
.((W X
ToDb((X \
)((\ ]
.((] ^
ToList((^ d
(((d e
)((e f
??((g i
new((j m
List((n r
<((r s
AssemblyLineDb	((s Å
>
((Å Ç
(
((Ç É
)
((É Ñ
})) 
;)) 
_context-- 
.-- 
Tractors-- !
.--! "
Add--" %
(--% &

newTractor--& 0
)--0 1
;--1 2
await.. 
_context.. 
... 
SaveChangesAsync.. /
(../ 0
)..0 1
;..1 2
var00 
createdTractor00 "
=00# $
await00% *
_context00+ 3
.003 4
Tractors004 <
.11 
Include11 
(11 
t11 
=>11 !
t11" #
.11# $
AssemblyLines11$ 1
)111 2
.22 
FirstOrDefaultAsync22 (
(22( )
t22) *
=>22+ -
t22. /
.22/ 0
Id220 2
==223 5

newTractor226 @
.22@ A
Id22A C
)22C D
;22D E
if44 
(44 
createdTractor44 "
==44# %
null44& *
)44* +
{55 
throw66 
new66 %
InvalidOperationException66 7
(667 8
$str668 _
)66_ `
;66` a
}77 
return99 
TractorConverter99 '
.99' (
ToDomain99( 0
(990 1
createdTractor991 ?
)99? @
!99@ A
;99A B
}:: 
catch;; 
(;; 
	Exception;; 
ex;; 
);;  
{<< 
throw== 
new== &
TractorRepositoryException== 4
(==4 5
$str==5 O
,==O P
ex==Q S
)==S T
;==T U
}>> 
}?? 	
publicAA 
asyncAA 
TaskAA 
<AA 
ListAA 
<AA 
TractorAA &
>AA& '
>AA' (
GetAllTractorsAsyncAA) <
(AA< =
TractorFilterAA= J
filterAAK Q
)AAQ R
{BB 	
tryCC 
{DD 

IQueryableEE 
<EE 
	TractorDbEE $
>EE$ %
queryEE& +
=EE, -
_contextEE. 6
.EE6 7
TractorsEE7 ?
;EE? @
ifGG 
(GG 
filterGG 
.GG 
ReleaseYearGG &
.GG& '
HasValueGG' /
)GG/ 0
{HH 
queryII 
=II 
queryII !
.II! "
WhereII" '
(II' (
tII( )
=>II* ,
tII- .
.II. /
ReleaseYearII/ :
==II; =
filterII> D
.IID E
ReleaseYearIIE P
.IIP Q
ValueIIQ V
)IIV W
;IIW X
}JJ 
ifLL 
(LL 
!LL 
stringLL 
.LL 
IsNullOrEmptyLL )
(LL) *
filterLL* 0
.LL0 1

EngineTypeLL1 ;
)LL; <
)LL< =
{MM 
queryNN 
=NN 
queryNN !
.NN! "
WhereNN" '
(NN' (
tNN( )
=>NN* ,
tNN- .
.NN. /

EngineTypeNN/ 9
==NN: <
filterNN= C
.NNC D

EngineTypeNND N
)NNN O
;NNO P
}OO 
ifQQ 
(QQ 
!QQ 
stringQQ 
.QQ 
IsNullOrEmptyQQ )
(QQ) *
filterQQ* 0
.QQ0 1
EcologicalStandartQQ1 C
)QQC D
)QQD E
{RR 
querySS 
=SS 
querySS !
.SS! "
WhereSS" '
(SS' (
tSS( )
=>SS* ,
tSS- .
.SS. /
EcologicalStandardSS/ A
==SSB D
filterSSE K
.SSK L
EcologicalStandartSSL ^
)SS^ _
;SS_ `
}TT 
varVV 
tractorsVV 
=VV 
awaitVV $
queryVV% *
.WW 
SkipWW 
(WW 
filterWW  
.WW  !
SkipWW! %
)WW% &
.XX 
TakeXX 
(XX 
filterXX  
.XX  !
LimitXX! &
)XX& '
.YY 
AsNoTrackingYY !
(YY! "
)YY" #
.ZZ 
ToListAsyncZZ  
(ZZ  !
)ZZ! "
;ZZ" #
return\\ 
tractors\\ 
.\\  

ConvertAll\\  *
(\\* +
t\\+ ,
=>\\- /
TractorConverter\\0 @
.\\@ A
ToDomain\\A I
(\\I J
t\\J K
)\\K L
!\\L M
)\\M N
;\\N O
}]] 
catch^^ 
(^^ 
	Exception^^ 
ex^^ 
)^^  
{__ 
throw`` 
new`` &
TractorRepositoryException`` 4
(``4 5
$str``5 R
,``R S
ex``T V
)``V W
;``W X
}aa 
}bb 	
publicdd 
asyncdd 
Taskdd 
<dd 
Tractordd !
?dd! "
>dd" #
GetTractorByIdAsyncdd$ 7
(dd7 8
Guiddd8 <
iddd= ?
)dd? @
{ee 	
tryff 
{gg 
varhh 
	tractorDbhh 
=hh 
awaithh  %
_contexthh& .
.hh. /
Tractorshh/ 7
.ii 
AsNoTrackingii !
(ii! "
)ii" #
.jj 
Includejj 
(jj 
tjj 
=>jj !
tjj" #
.jj# $
AssemblyLinesjj$ 1
)jj1 2
.kk 
FirstOrDefaultAsynckk (
(kk( )
tkk) *
=>kk+ -
tkk. /
.kk/ 0
Idkk0 2
==kk3 5
idkk6 8
)kk8 9
;kk9 :
returnmm 
TractorConvertermm '
.mm' (
ToDomainmm( 0
(mm0 1
	tractorDbmm1 :
)mm: ;
;mm; <
}nn 
catchoo 
(oo 
	Exceptionoo 
exoo 
)oo  
{pp 
throwqq 
newqq &
TractorRepositoryExceptionqq 4
(qq4 5
$strqq5 Q
,qqQ R
exqqS U
)qqU V
;qqV W
}rr 
}ss 	
publicuu 
Taskuu 
DeleteTractorAsyncuu &
(uu& '
Guiduu' +
iduu, .
)uu. /
{vv 	
tryww 
{xx 
varyy 
tractoryy 
=yy 
_contextyy &
.yy& '
Tractorsyy' /
.zz 
FirstOrDefaultzz #
(zz# $
tzz$ %
=>zz& (
tzz) *
.zz* +
Idzz+ -
==zz. 0
idzz1 3
)zz3 4
;zz4 5
if{{ 
({{ 
tractor{{ 
=={{ 
null{{ #
){{# $
{|| 
throw}} 
new}} $
TractorNotFoundException}} 6
(}}6 7
$str}}7 K
)}}K L
;}}L M
}~~ 
_context
ÄÄ 
.
ÄÄ 
Tractors
ÄÄ !
.
ÄÄ! "
Remove
ÄÄ" (
(
ÄÄ( )
tractor
ÄÄ) 0
)
ÄÄ0 1
;
ÄÄ1 2
return
ÅÅ 
_context
ÅÅ 
.
ÅÅ  
SaveChangesAsync
ÅÅ  0
(
ÅÅ0 1
)
ÅÅ1 2
;
ÅÅ2 3
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ &
TractorNotFoundException
ÉÉ +
)
ÉÉ+ ,
{
ÑÑ 
throw
ÖÖ 
;
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
ex
áá 
)
áá  
{
àà 
throw
ââ 
new
ââ (
TractorRepositoryException
ââ 4
(
ââ4 5
$str
ââ5 O
,
ââO P
ex
ââQ S
)
ââS T
;
ââT U
}
ää 
}
ãã 	
}
åå 
}çç ®
/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/SupplyRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class 
SupplyRepository !
:" #
ISupplyRepository$ 5
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public 
SupplyRepository 
(  
ProdMonitorContext  2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
Supply  
>  !
CreateSupplyAsync" 3
(3 4
SupplyCreate4 @
supplyCreateA M
)M N
{ 	
var 
supply 
= 
new 
SupplyDb %
(% &
Guid 
. 
NewGuid 
( 
) 
, 
supplyCreate 
. 
DetailId $
,$ %
DateTime 
. 
UtcNow 
, 
supplyCreate 
. 
Quantity $
) 
; 
try!! 
{"" 
await## 
_context## 
.## 
Supplies## '
.##' (
AddAsync##( 0
(##0 1
supply##1 7
)##7 8
;##8 9
await%% 
_context%% 
.%% 
SaveChangesAsync%% /
(%%/ 0
)%%0 1
;%%1 2
return'' 
new'' 
Supply'' !
(''! "
supply(( 
.(( 
Id(( 
,(( 
supply)) 
.)) 
DetailId)) #
,))# $
supply** 
.** 

SupplyDate** %
,**% &
supply++ 
.++ 
Quantity++ #
),, 
;,, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
throw00 
new00 
	Exception00 #
(00# $
$str00$ ?
,00? @
ex00A C
)00C D
;00D E
}11 
}33 	
}44 
}55 Ñx
á/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/ServiceRequestRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class $
ServiceRequestRepository )
:* +%
IServiceRequestRepository, E
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public $
ServiceRequestRepository '
(' (
ProdMonitorContext( :
context; B
)B C
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
ServiceRequest (
>( )%
CreateServiceRequestAsync* C
(C D
GuidD H
lineIdI O
,O P
Guid 
userId 
, 
DateTime 
requestDate  
,  !
RequestStatusType 
status $
,$ %
RequestType 
type 
, 
string 
description 
) 
{ 	
try 
{ 
if 
( 
lineId 
== 
Guid "
." #
Empty# (
)( )
{   
throw!! 
new!! 
ArgumentException!! /
(!!/ 0
$str!!0 E
)!!E F
;!!F G
}"" 
if$$ 
($$ 
userId$$ 
==$$ 
Guid$$ "
.$$" #
Empty$$# (
)$$( )
{%% 
throw&& 
new&& 
ArgumentException&& /
(&&/ 0
$str&&0 E
)&&E F
;&&F G
}'' 
var** 
serviceRequest** "
=**# $
new**% (
ServiceRequest**) 7
(**7 8
id++ 
:++ 
Guid++ 
.++ 
NewGuid++ $
(++$ %
)++% &
,++& '
lineId,, 
:,, 
lineId,, "
,,," #
userId-- 
:-- 
userId-- "
,--" #
requestDate.. 
:..  
requestDate..! ,
,.., -
status// 
:// 
status// "
,//" #
type00 
:00 
type00 
,00 
description11 
:11  
description11! ,
)22 
;22 
var44 
serviceRequestDb44 $
=44% &#
ServiceRequestConverter44' >
.44> ?
ToDb44? C
(44C D
serviceRequest44D R
)44R S
;44S T
var66 
result66 
=66 
_context66 %
.66% &
ServiceRequests66& 5
.665 6
Add666 9
(669 :
serviceRequestDb66: J
!66J K
)66K L
;66L M
await77 
_context77 
.77 
SaveChangesAsync77 /
(77/ 0
)770 1
;771 2
var99 
createdRequest99 "
=99# $
await99% *
_context99+ 3
.993 4
ServiceRequests994 C
.:: 
FirstOrDefaultAsync:: (
(::( )
sr::) +
=>::, .
sr::/ 1
.::1 2
Id::2 4
==::5 7
result::8 >
.::> ?
Entity::? E
.::E F
Id::F H
)::H I
;::I J
if<< 
(<< 
createdRequest<< "
==<<# %
null<<& *
)<<* +
{== 
throw>> 
new>> %
InvalidOperationException>> 7
(>>7 8
$str>>8 g
)>>g h
;>>h i
}?? 
returnAA #
ServiceRequestConverterAA .
.AA. /
ToDomainAA/ 7
(AA7 8
createdRequestAA8 F
)AAF G
!AAG H
;AAH I
}BB 
catchCC 
(CC 
	ExceptionCC 
exCC 
)CC  
{DD 
throwEE 
newEE -
!ServiceRequestRepositoryExceptionEE ;
(EE; <
$strEE< ^
,EE^ _
exEE` b
)EEb c
;EEc d
}FF 
}GG 	
publicII 
asyncII 
TaskII  
DeleteServiceRequestII .
(II. /
GuidII/ 3
idII4 6
)II6 7
{JJ 	
tryKK 
{LL 
varMM 
serviceRequestMM "
=MM# $
awaitMM% *
_contextMM+ 3
.MM3 4
ServiceRequestsMM4 C
.NN 
FirstOrDefaultAsyncNN (
(NN( )
srNN) +
=>NN, .
srNN/ 1
.NN1 2
IdNN2 4
==NN5 7
idNN8 :
)NN: ;
;NN; <
ifPP 
(PP 
serviceRequestPP "
==PP# %
nullPP& *
)PP* +
{QQ 
throwRR 
newRR  
KeyNotFoundExceptionRR 2
(RR2 3
$strRR3 O
)RRO P
;RRP Q
}SS 
_contextUU 
.UU 
ServiceRequestsUU (
.UU( )
RemoveUU) /
(UU/ 0
serviceRequestUU0 >
)UU> ?
;UU? @
awaitVV 
_contextVV 
.VV 
SaveChangesAsyncVV /
(VV/ 0
)VV0 1
;VV1 2
}WW 
catchXX 
(XX 
	ExceptionXX 
exXX 
)XX  
{YY 
throwZZ 
newZZ -
!ServiceRequestRepositoryExceptionZZ ;
(ZZ; <
$strZZ< ^
,ZZ^ _
exZZ` b
)ZZb c
;ZZc d
}[[ 
}\\ 	
public^^ 
async^^ 
Task^^ 
<^^ 
List^^ 
<^^ 
ServiceRequest^^ -
>^^- .
>^^. /&
GetAllServiceRequestsAsync^^0 J
(^^J K 
ServiceRequestFilter^^K _
filter^^` f
)^^f g
{__ 	
try`` 
{aa 

IQueryablebb 
<bb 
ServiceRequestDbbb +
>bb+ ,
querybb- 2
=bb3 4
_contextbb5 =
.bb= >
ServiceRequestsbb> M
;bbM N
ifdd 
(dd 
filterdd 
.dd 
LineIddd !
.dd! "
HasValuedd" *
)dd* +
{ee 
queryff 
=ff 
queryff !
.ff! "
Whereff" '
(ff' (
srff( *
=>ff+ -
srff. 0
.ff0 1
LineIdff1 7
==ff8 :
filterff; A
.ffA B
LineIdffB H
.ffH I
ValueffI N
)ffN O
;ffO P
}gg 
ifii 
(ii 
filterii 
.ii 
UserIdii !
.ii! "
HasValueii" *
)ii* +
{jj 
querykk 
=kk 
querykk !
.kk! "
Wherekk" '
(kk' (
srkk( *
=>kk+ -
srkk. 0
.kk0 1
UserIdkk1 7
==kk8 :
filterkk; A
.kkA B
UserIdkkB H
.kkH I
ValuekkI N
)kkN O
;kkO P
}ll 
ifnn 
(nn 
filternn 
.nn 
Typenn 
.nn  
HasValuenn  (
)nn( )
{oo 
querypp 
=pp 
querypp !
.pp! "
Wherepp" '
(pp' (
srpp( *
=>pp+ -
srpp. 0
.pp0 1
Typepp1 5
==pp6 8 
RequestTypeConverterpp9 M
.ppM N
ToDbppN R
(ppR S
filterppS Y
.ppY Z
TypeppZ ^
.pp^ _
Valuepp_ d
)ppd e
)ppe f
;ppf g
}qq 
ifss 
(ss 
filterss 
.ss 
Statusss !
.ss! "
HasValuess" *
)ss* +
{tt 
queryuu 
=uu 
queryuu !
.uu! "
Whereuu" '
(uu' (
sruu( *
=>uu+ -
sruu. 0
.uu0 1
Statusuu1 7
==uu8 :&
RequestStatusTypeConverteruu; U
.uuU V
ToDbuuV Z
(uuZ [
filteruu[ a
.uua b
Statusuub h
.uuh i
Valueuui n
)uun o
)uuo p
;uup q
}vv 
ifxx 
(xx 
filterxx 
.xx 

SortByDatexx %
.xx% &
HasValuexx& .
&&xx/ 1
filterxx2 8
.xx8 9

SortByDatexx9 C
.xxC D
ValuexxD I
)xxI J
{yy 
queryzz 
=zz 
queryzz !
.zz! "
OrderByzz" )
(zz) *
srzz* ,
=>zz- /
srzz0 2
.zz2 3
RequestDatezz3 >
)zz> ?
;zz? @
}{{ 
var}} 
serviceRequestsDb}} %
=}}& '
await}}( -
query}}. 3
.~~ 
Skip~~ 
(~~ 
filter~~  
.~~  !
Skip~~! %
)~~% &
. 
Take 
( 
filter  
.  !
Limit! &
)& '
.
ÄÄ 
AsNoTracking
ÄÄ !
(
ÄÄ! "
)
ÄÄ" #
.
ÅÅ 
ToListAsync
ÅÅ  
(
ÅÅ  !
)
ÅÅ! "
;
ÅÅ" #
return
ÉÉ 
serviceRequestsDb
ÉÉ (
.
ÉÉ( )

ConvertAll
ÉÉ) 3
(
ÉÉ3 4
sr
ÉÉ4 6
=>
ÉÉ7 9%
ServiceRequestConverter
ÉÉ: Q
.
ÉÉQ R
ToDomain
ÉÉR Z
(
ÉÉZ [
sr
ÉÉ[ ]
)
ÉÉ] ^
!
ÉÉ^ _
)
ÉÉ_ `
;
ÉÉ` a
}
ÑÑ 
catch
ÖÖ 
(
ÖÖ 
	Exception
ÖÖ 
ex
ÖÖ 
)
ÖÖ  
{
ÜÜ 
throw
áá 
new
áá /
!ServiceRequestRepositoryException
áá ;
(
áá; <
$str
áá< a
,
ááa b
ex
áác e
)
ááe f
;
ááf g
}
àà 
}
ââ 	
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
ServiceRequest
ãã (
?
ãã( )
>
ãã) *(
GetServiceRequestByIdAsync
ãã+ E
(
ããE F
Guid
ããF J
id
ããK M
)
ããM N
{
åå 	
try
çç 
{
éé 
var
èè 
serviceRequestDb
èè $
=
èè% &
await
èè' ,
_context
èè- 5
.
èè5 6
ServiceRequests
èè6 E
.
êê !
FirstOrDefaultAsync
êê (
(
êê( )
sr
êê) +
=>
êê, .
sr
êê/ 1
.
êê1 2
Id
êê2 4
==
êê5 7
id
êê8 :
)
êê: ;
;
êê; <
return
íí %
ServiceRequestConverter
íí .
.
íí. /
ToDomain
íí/ 7
(
íí7 8
serviceRequestDb
íí8 H
)
ííH I
;
ííI J
}
ìì 
catch
îî 
(
îî 
	Exception
îî 
ex
îî 
)
îî  
{
ïï 
throw
ññ 
new
ññ /
!ServiceRequestRepositoryException
ññ ;
(
ññ; <
$str
ññ< `
,
ññ` a
ex
ññb d
)
ññd e
;
ññe f
}
óó 
}
òò 	
public
öö 
async
öö 
Task
öö 
<
öö 
ServiceRequest
öö (
>
öö( )'
UpdateServiceRequestAsync
öö* C
(
ööC D
Guid
ööD H
id
ööI K
,
ööK L"
ServiceRequestUpdate
ööM a

updateData
ööb l
)
ööl m
{
õõ 	
try
úú 
{
ùù 
var
ûû 
serviceRequestDb
ûû $
=
ûû% &
await
ûû' ,
_context
ûû- 5
.
ûû5 6
ServiceRequests
ûû6 E
.
üü !
FirstOrDefaultAsync
üü (
(
üü( )
sr
üü) +
=>
üü, .
sr
üü/ 1
.
üü1 2
Id
üü2 4
==
üü5 7
id
üü8 :
)
üü: ;
;
üü; <
if
°° 
(
°° 
serviceRequestDb
°° $
==
°°% '
null
°°( ,
)
°°, -
{
¢¢ 
throw
££ 
new
££ "
KeyNotFoundException
££ 2
(
££2 3
$str
££3 O
)
££O P
;
££P Q
}
§§ 
if
¶¶ 
(
¶¶ 

updateData
¶¶ 
.
¶¶ 
LineId
¶¶ %
.
¶¶% &
HasValue
¶¶& .
)
¶¶. /
{
ßß 
serviceRequestDb
®® $
.
®®$ %
LineId
®®% +
=
®®, -

updateData
®®. 8
.
®®8 9
LineId
®®9 ?
.
®®? @
Value
®®@ E
;
®®E F
}
©© 
if
´´ 
(
´´ 

updateData
´´ 
.
´´ 
Type
´´ #
.
´´# $
HasValue
´´$ ,
)
´´, -
{
¨¨ 
serviceRequestDb
≠≠ $
.
≠≠$ %
Type
≠≠% )
=
≠≠* +"
RequestTypeConverter
≠≠, @
.
≠≠@ A
ToDb
≠≠A E
(
≠≠E F

updateData
≠≠F P
.
≠≠P Q
Type
≠≠Q U
.
≠≠U V
Value
≠≠V [
)
≠≠[ \
;
≠≠\ ]
}
ÆÆ 
if
∞∞ 
(
∞∞ 

updateData
∞∞ 
.
∞∞ 
Status
∞∞ %
.
∞∞% &
HasValue
∞∞& .
)
∞∞. /
{
±± 
serviceRequestDb
≤≤ $
.
≤≤$ %
Status
≤≤% +
=
≤≤, -(
RequestStatusTypeConverter
≤≤. H
.
≤≤H I
ToDb
≤≤I M
(
≤≤M N

updateData
≤≤N X
.
≤≤X Y
Status
≤≤Y _
.
≤≤_ `
Value
≤≤` e
)
≤≤e f
;
≤≤f g
}
≥≥ 
if
µµ 
(
µµ 
!
µµ 
string
µµ 
.
µµ 
IsNullOrEmpty
µµ )
(
µµ) *

updateData
µµ* 4
.
µµ4 5
Description
µµ5 @
)
µµ@ A
)
µµA B
{
∂∂ 
serviceRequestDb
∑∑ $
.
∑∑$ %
Description
∑∑% 0
=
∑∑1 2

updateData
∑∑3 =
.
∑∑= >
Description
∑∑> I
;
∑∑I J
}
∏∏ 
_context
∫∫ 
.
∫∫ 
ServiceRequests
∫∫ (
.
∫∫( )
Update
∫∫) /
(
∫∫/ 0
serviceRequestDb
∫∫0 @
)
∫∫@ A
;
∫∫A B
await
ªª 
_context
ªª 
.
ªª 
SaveChangesAsync
ªª /
(
ªª/ 0
)
ªª0 1
;
ªª1 2
return
ΩΩ %
ServiceRequestConverter
ΩΩ .
.
ΩΩ. /
ToDomain
ΩΩ/ 7
(
ΩΩ7 8
serviceRequestDb
ΩΩ8 H
)
ΩΩH I
!
ΩΩI J
;
ΩΩJ K
}
ææ 
catch
øø 
(
øø 
	Exception
øø 
ex
øø 
)
øø  
{
¿¿ 
throw
¡¡ 
new
¡¡ /
!ServiceRequestRepositoryException
¡¡ ;
(
¡¡; <
$str
¡¡< ^
,
¡¡^ _
ex
¡¡` b
)
¡¡b c
;
¡¡c d
}
¬¬ 
}
√√ 	
}
ƒƒ 
}≈≈ ÃR
Ü/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/ServiceReportRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class #
ServiceReportRepository (
:) *$
IServiceReportRepository+ C
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public #
ServiceReportRepository &
(& '
ProdMonitorContext' 9
context: A
)A B
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
ServiceReport '
>' (#
CloseServiceReportAsync) @
(@ A
GuidA E
idF H
,H I
DateTimeJ R
	closeDateS \
,\ ]
float^ c
priced i
,i j
stringk q
descriptionr }
)} ~
{ 	
try 
{ 
var 
serviceReportDb #
=$ %
await& +
_context, 4
.4 5
ServiceReports5 C
.C D
FirstOrDefaultAsyncD W
(W X
srX Z
=>[ ]
sr^ `
.` a
Ida c
==d f
idg i
)i j
;j k
if 
( 
serviceReportDb #
==$ &
null' +
)+ ,
{ 
throw 
new #
ReportNotFoundException 5
(5 6
$"6 8
$str8 O
{O P
idP R
}R S
$strS ^
"^ _
)_ `
;` a
} 
serviceReportDb!! 
.!!  
	CloseDate!!  )
=!!* +
	closeDate!!, 5
;!!5 6
serviceReportDb"" 
.""  
Price""  %
=""& '
price""( -
;""- .
serviceReportDb## 
.##  
Description##  +
=##, -
description##. 9
;##9 :
await%% 
_context%% 
.%% 
SaveChangesAsync%% /
(%%/ 0
)%%0 1
;%%1 2
return'' "
ServiceReportConverter'' -
.''- .
ToDomain''. 6
(''6 7
serviceReportDb''7 F
)''F G
!''G H
;''H I
}(( 
catch)) 
()) #
ReportNotFoundException)) *
)))* +
{** 
throw++ 
;++ 
},, 
catch-- 
(-- 
	Exception-- 
ex-- 
)--  
{.. 
throw// 
new// ,
 ServiceReportRepositoryException// :
(//: ;
$str//; [
,//[ \
ex//] _
)//_ `
;//` a
}00 
}11 	
public33 
async33 
Task33 
<33 
ServiceReport33 '
>33' ($
CreateServiceReportAsync33) A
(33A B
Guid33B F
lineId33G M
,33M N
Guid33O S
userId33T Z
,33Z [
Guid33\ `
	requestId33a j
,33j k
DateTime33l t
openDate33u }
)33} ~
{44 	
try55 
{66 
var77 
serviceReport77 !
=77" #
new77$ '
ServiceReportDb77( 7
{88 
Id99 
=99 
Guid99 
.99 
NewGuid99 %
(99% &
)99& '
,99' (
LineId:: 
=:: 
lineId:: #
,::# $
UserId;; 
=;; 
userId;; #
,;;# $
	RequestId<< 
=<< 
	requestId<<  )
,<<) *
OpenDate== 
=== 
openDate== '
,==' (
}>> 
;>> 
varBB 
resultBB 
=BB 
_contextBB %
.BB% &
ServiceReportsBB& 4
.BB4 5
AddBB5 8
(BB8 9
serviceReportBB9 F
)BBF G
;BBG H
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC /
(CC/ 0
)CC0 1
;CC1 2
varEE 
createdReportEE !
=EE" #
awaitEE$ )
_contextEE* 2
.EE2 3
ServiceReportsEE3 A
.II 
FirstOrDefaultAsyncII (
(II( )
srII) +
=>II, .
srII/ 1
.II1 2
IdII2 4
==II5 7
resultII8 >
.II> ?
EntityII? E
.IIE F
IdIIF H
)IIH I
;III J
ifKK 
(KK 
createdReportKK !
==KK" $
nullKK% )
)KK) *
{LL 
throwMM 
newMM %
InvalidOperationExceptionMM 7
(MM7 8
$strMM8 f
)MMf g
;MMg h
}NN 
returnPP "
ServiceReportConverterPP -
.PP- .
ToDomainPP. 6
(PP6 7
createdReportPP7 D
)PPD E
!PPE F
;PPF G
}QQ 
catchRR 
(RR 
	ExceptionRR 
exRR 
)RR  
{SS 
throwTT 
newTT ,
 ServiceReportRepositoryExceptionTT :
(TT: ;
$strTT; \
,TT\ ]
exTT^ `
)TT` a
;TTa b
}UU 
}VV 	
publicYY 
asyncYY 
TaskYY 
<YY 
ListYY 
<YY 
ServiceReportYY ,
>YY, -
>YY- .%
GetAllServiceReportsAsyncYY/ H
(YYH I
ServiceReportFilterYYI \
filterYY] c
)YYc d
{ZZ 	
try[[ 
{\\ 

IQueryable]] 
<]] 
ServiceReportDb]] *
>]]* +
query]], 1
=]]2 3
_context]]4 <
.]]< =
ServiceReports]]= K
;]]K L
if__ 
(__ 
filter__ 
.__ 
LineId__ !
is__" $
not__% (
null__) -
)__- .
{`` 
queryaa 
=aa 
queryaa !
.aa! "
Whereaa" '
(aa' (
sraa( *
=>aa+ -
sraa. 0
.aa0 1
LineIdaa1 7
==aa8 :
filteraa; A
.aaA B
LineIdaaB H
.aaH I
ValueaaI N
)aaN O
;aaO P
}bb 
ifdd 
(dd 
filterdd 
.dd 
UserIddd !
isdd" $
notdd% (
nulldd) -
)dd- .
{ee 
queryff 
=ff 
queryff !
.ff! "
Whereff" '
(ff' (
srff( *
=>ff+ -
srff. 0
.ff0 1
UserIdff1 7
==ff8 :
filterff; A
.ffA B
UserIdffB H
.ffH I
ValueffI N
)ffN O
;ffO P
}gg 
ifii 
(ii 
filterii 
.ii 
	RequestIdii $
isii% '
notii( +
nullii, 0
)ii0 1
{jj 
querykk 
=kk 
querykk !
.kk! "
Wherekk" '
(kk' (
srkk( *
=>kk+ -
srkk. 0
.kk0 1
	RequestIdkk1 :
==kk; =
filterkk> D
.kkD E
	RequestIdkkE N
.kkN O
ValuekkO T
)kkT U
;kkU V
}ll 
ifnn 
(nn 
filternn 
.nn 

SortByDatenn %
isnn& (
notnn) ,
nullnn- 1
)nn1 2
{oo 
querypp 
=pp 
querypp !
.pp! "
OrderByDescendingpp" 3
(pp3 4
srpp4 6
=>pp7 9
srpp: <
.pp< =
OpenDatepp= E
)ppE F
;ppF G
}qq 
varss 
serviceReportsDbss $
=ss% &
awaitss' ,
queryss- 2
.tt 
Skiptt 
(tt 
filtertt  
.tt  !
Skiptt! %
)tt% &
.uu 
Takeuu 
(uu 
filteruu  
.uu  !
Limituu! &
)uu& '
.vv 
AsNoTrackingvv !
(vv! "
)vv" #
.ww 
ToListAsyncww  
(ww  !
)ww! "
;ww" #
varxx 
serviceReportsxx "
=xx# $
serviceReportsDbxx% 5
.xx5 6

ConvertAllxx6 @
(xx@ A
srxxA C
=>xxD F"
ServiceReportConverterxxG ]
.xx] ^
ToDomainxx^ f
(xxf g
srxxg i
)xxi j
!xxj k
)xxk l
;xxl m
returnzz 
serviceReportszz %
;zz% &
}{{ 
catch|| 
(|| 
	Exception|| 
ex|| 
)||  
{}} 
throw~~ 
new~~ ,
 ServiceReportRepositoryException~~ :
(~~: ;
$str~~; _
,~~_ `
ex~~a c
)~~c d
;~~d e
} 
}
ÄÄ 	
public
ÇÇ 
async
ÇÇ 
Task
ÇÇ 
<
ÇÇ 
ServiceReport
ÇÇ '
?
ÇÇ' (
>
ÇÇ( )'
GetServiceReportByIdAsync
ÇÇ* C
(
ÇÇC D
Guid
ÇÇD H
id
ÇÇI K
)
ÇÇK L
{
ÉÉ 	
try
ÑÑ 
{
ÖÖ 
var
ÜÜ 
serviceReportDb
ÜÜ #
=
ÜÜ$ %
await
ÜÜ& +
_context
ÜÜ, 4
.
ÜÜ4 5
ServiceReports
ÜÜ5 C
.
áá !
FirstOrDefaultAsync
áá (
(
áá( )
sr
áá) +
=>
áá, .
sr
áá/ 1
.
áá1 2
Id
áá2 4
==
áá5 7
id
áá8 :
)
áá: ;
;
áá; <
return
ââ $
ServiceReportConverter
ââ -
.
ââ- .
ToDomain
ââ. 6
(
ââ6 7
serviceReportDb
ââ7 F
)
ââF G
;
ââG H
}
ää 
catch
ãã 
(
ãã 
	Exception
ãã 
ex
ãã 
)
ãã  
{
åå 
throw
çç 
new
çç .
 ServiceReportRepositoryException
çç :
(
çç: ;
$str
çç; ^
,
çç^ _
ex
çç` b
)
ççb c
;
ççc d
}
éé 
}
èè 	
}
êê 
}ëë ø
Ñ/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/OrderDetailRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class !
OrderDetailRepository &
:' ("
IOrderDetailRepository) ?
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public !
OrderDetailRepository $
($ %
ProdMonitorContext% 7
context8 ?
)? @
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
OrderDetail %
>% &
CreateOrderDetail' 8
(8 9
OrderDetailCreate9 J
orderDetailK V
)V W
{ 	
try 
{ 
var 
detail 
= 
await "
_context# +
.+ ,
Details, 3
. 
FirstOrDefaultAsync (
(( )
d) *
=>+ -
d. /
./ 0
Id0 2
==3 5
orderDetail6 A
.A B
DetailIdB J
)J K
;K L
if 
( 
detail 
== 
null "
)" #
{ 
throw   
new   *
OrderDetailRepositoryException   <
(  < =
$str  = W
)  W X
;  X Y
}!! 
var## 
orderDetailDb## !
=##" #
new##$ '
OrderDetailDb##( 5
(##5 6
id##6 8
:##8 9
Guid##: >
.##> ?
NewGuid##? F
(##F G
)##G H
,##H I
detailId$$ 
:$$ 
orderDetail$$ )
.$$) *
DetailId$$* 2
,$$2 3
detailOrderId%% !
:%%! "
orderDetail%%# .
.%%. /
DetailOrderId%%/ <
,%%< =
detailsAmount&& !
:&&! "
orderDetail&&# .
.&&. /
DetailsAmount&&/ <
)&&< =
;&&= >
var(( 
result(( 
=(( 
await(( "
_context((# +
.((+ ,
OrderDetails((, 8
.((8 9
AddAsync((9 A
(((A B
orderDetailDb((B O
)((O P
;((P Q
await)) 
_context)) 
.)) 
SaveChangesAsync)) /
())/ 0
)))0 1
;))1 2
var++  
createdOrderDetailDb++ (
=++) *
await+++ 0
_context++1 9
.++9 :
OrderDetails++: F
.,, 
FirstOrDefaultAsync,, (
(,,( )
o,,) *
=>,,+ -
o,,. /
.,,/ 0
Id,,0 2
==,,3 5
result,,6 <
.,,< =
Entity,,= C
.,,C D
Id,,D F
),,F G
;,,G H
return..  
OrderDetailConverter.. +
...+ ,
ToDomain.., 4
(..4 5 
createdOrderDetailDb..5 I
)..I J
!..J K
;..K L
}// 
catch00 
(00 
	Exception00 
ex00 
)00  
{11 
throw22 
new22 *
OrderDetailRepositoryException22 8
(228 9
$str229 W
,22W X
ex22Y [
)22[ \
;22\ ]
}33 
}44 	
}55 
}66 ÀO
/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/DetailRepository.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Repositories		! -
{

 
public 

class 
DetailRepository !
:" #
IDetailRepository$ 5
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public 
DetailRepository 
(  
ProdMonitorContext  2
context3 :
): ;
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
Detail  
>  !
CreateDetailAsync" 3
(3 4
DetailCreate4 @
detailA G
)G H
{ 	
try 
{ 
var 
	newDetail 
= 
new  #
Detail$ *
(* +
id 
: 
Guid 
. 
NewGuid $
($ %
)% &
,& '
name 
: 
detail  
.  !
Name! %
,% &
country 
: 
detail #
.# $
Country$ +
,+ ,
amount 
: 
detail "
." #
Amount# )
,) *
price 
: 
detail !
.! "
Price" '
,' (
length 
: 
detail "
." #
Length# )
,) *
height 
: 
detail "
." #
Height# )
,) *
width   
:   
detail   !
.  ! "
Width  " '
,  ' (
assemblyLines!! !
:!!! "
detail!!# )
.!!) *
AssemblyLines!!* 7
)"" 
;"" 
var$$ 
detailDb$$ 
=$$ 
DetailConverter$$ .
.$$. /
ToDb$$/ 3
($$3 4
	newDetail$$4 =
)$$= >
;$$> ?
var&& 
result&& 
=&& 
_context&& %
.&&% &
Details&&& -
.&&- .
Add&&. 1
(&&1 2
detailDb&&2 :
!&&: ;
)&&; <
;&&< =
await'' 
_context'' 
.'' 
SaveChangesAsync'' /
(''/ 0
)''0 1
;''1 2
var)) 
createdDetail)) !
=))" #
await))$ )
_context))* 2
.))2 3
Details))3 :
.** 
Include** 
(** 
d** 
=>** !
d**" #
.**# $
AssemblyLines**$ 1
)**1 2
.++ 
Include++ 
(++ 
d++ 
=>++ !
d++" #
.++# $
OrderDetails++$ 0
)++0 1
.,, 
FirstOrDefaultAsync,, (
(,,( )
d,,) *
=>,,+ -
d,,. /
.,,/ 0
Id,,0 2
==,,3 5
result,,6 <
.,,< =
Entity,,= C
.,,C D
Id,,D F
),,F G
;,,G H
if.. 
(.. 
createdDetail.. !
==.." $
null..% )
)..) *
{// 
throw00 
new00 %
InvalidOperationException00 7
(007 8
$str008 ^
)00^ _
;00_ `
}11 
return33 
DetailConverter33 &
.33& '
ToDomain33' /
(33/ 0
createdDetail330 =
)33= >
!33> ?
;33? @
}44 
catch55 
(55 
	Exception55 
ex55 
)55  
{66 
throw77 
new77 %
DetailRepositoryException77 3
(773 4
$str774 M
,77M N
ex77O Q
)77Q R
;77R S
}88 
}99 	
public;; 
async;; 
Task;; 
<;; 
List;; 
<;; 
Detail;; %
>;;% &
>;;& '
GetAllDetailsAsync;;( :
(;;: ;
DetailFilter;;; G
filter;;H N
);;N O
{<< 	
try== 
{>> 

IQueryable?? 
<?? 
DetailDb?? #
>??# $
query??% *
=??+ ,
_context??- 5
.??5 6
Details??6 =
;??= >
ifAA 
(AA 
!AA 
stringAA 
.AA 
IsNullOrEmptyAA )
(AA) *
filterAA* 0
.AA0 1
CountryAA1 8
)AA8 9
)AA9 :
{BB 
queryCC 
=CC 
queryCC !
.CC! "
WhereCC" '
(CC' (
dCC( )
=>CC* ,
dCC- .
.CC. /
CountryCC/ 6
==CC7 9
filterCC: @
.CC@ A
CountryCCA H
)CCH I
;CCI J
}DD 
varFF 
detailsFF 
=FF 
awaitFF #
queryFF$ )
.GG 
SkipGG 
(GG 
filterGG  
.GG  !
SkipGG! %
)GG% &
.HH 
TakeHH 
(HH 
filterHH  
.HH  !
LimitHH! &
)HH& '
.II 
AsNoTrackingII !
(II! "
)II" #
.JJ 
ToListAsyncJJ  
(JJ  !
)JJ! "
;JJ" #
varMM 
resultMM 
=MM 
detailsMM $
.MM$ %

ConvertAllMM% /
(MM/ 0
dMM0 1
=>MM2 4
DetailConverterMM5 D
.MMD E
ToDomainMME M
(MMM N
dMMN O
)MMO P
!MMP Q
)MMQ R
;MMR S
returnNN 
resultNN 
;NN 
}OO 
catchPP 
(PP 
	ExceptionPP 
exPP 
)PP  
{QQ 
throwRR 
newRR %
DetailRepositoryExceptionRR 3
(RR3 4
$strRR4 P
,RRP Q
exRRR T
)RRT U
;RRU V
}SS 
}TT 	
publicVV 
asyncVV 
TaskVV 
<VV 
DetailVV  
?VV  !
>VV! "
GetDetailByIdAsyncVV# 5
(VV5 6
GuidVV6 :
idVV; =
)VV= >
{WW 	
tryXX 
{YY 
varZZ 
detailDbZZ 
=ZZ 
awaitZZ $
_contextZZ% -
.ZZ- .
DetailsZZ. 5
.[[ 
FirstOrDefaultAsync[[ (
([[( )
d[[) *
=>[[+ -
d[[. /
.[[/ 0
Id[[0 2
==[[3 5
id[[6 8
)[[8 9
;[[9 :
return]] 
DetailConverter]] &
.]]& '
ToDomain]]' /
(]]/ 0
detailDb]]0 8
)]]8 9
;]]9 :
}^^ 
catch__ 
(__ 
	Exception__ 
ex__ 
)__  
{`` 
throwaa 
newaa %
DetailRepositoryExceptionaa 3
(aa3 4
$straa4 U
,aaU V
exaaW Y
)aaY Z
;aaZ [
}bb 
}cc 	
publicee 
asyncee 
Taskee 
UpdateDetailAsyncee +
(ee+ ,
Guidee, 0
idee1 3
,ee3 4
intee5 8
amauntee9 ?
)ee? @
{ff 	
trygg 
{hh 
varii 
	newDetailii 
=ii 
awaitii  %
_contextii& .
.ii. /
Detailsii/ 6
.ii6 7
	FindAsyncii7 @
(ii@ A
idiiA C
)iiC D
;iiD E
	newDetailjj 
.jj 
Amountjj  
=jj! "
amauntjj# )
;jj) *
_contextkk 
.kk 
Detailskk  
.kk  !
Updatekk! '
(kk' (
	newDetailkk( 1
)kk1 2
;kk2 3
awaitll 
_contextll 
.ll 
SaveChangesAsyncll /
(ll/ 0
)ll0 1
;ll1 2
}mm 
catchnn 
(nn 
	Exceptionnn 
exnn 
)nn  
{oo 
throwpp 
newpp 
	Exceptionpp #
(pp# $
$strpp$ =
,pp= >
expp? A
)ppA B
;ppB C
}qq 
}ss 	
publicuu 
Taskuu 
DeleteDetailAsyncuu %
(uu% &
Guiduu& *
iduu+ -
)uu- .
{vv 	
tryww 
{xx 
varyy 
detailyy 
=yy 
_contextyy %
.yy% &
Detailsyy& -
.zz 
FirstOrDefaultzz #
(zz# $
dzz$ %
=>zz& (
dzz) *
.zz* +
Idzz+ -
==zz. 0
idzz1 3
)zz3 4
;zz4 5
if{{ 
({{ 
detail{{ 
=={{ 
null{{ "
){{" #
{|| 
throw}} 
new}} #
DetailNotFoundException}} 5
(}}5 6
$str}}6 I
)}}I J
;}}J K
}~~ 
_context
ÄÄ 
.
ÄÄ 
Details
ÄÄ  
.
ÄÄ  !
Remove
ÄÄ! '
(
ÄÄ' (
detail
ÄÄ( .
)
ÄÄ. /
;
ÄÄ/ 0
return
ÅÅ 
_context
ÅÅ 
.
ÅÅ  
SaveChangesAsync
ÅÅ  0
(
ÅÅ0 1
)
ÅÅ1 2
;
ÅÅ2 3
}
ÇÇ 
catch
ÉÉ 
(
ÉÉ %
DetailNotFoundException
ÉÉ *
)
ÉÉ* +
{
ÑÑ 
throw
ÖÖ 
;
ÖÖ 
}
ÜÜ 
catch
áá 
(
áá 
	Exception
áá 
ex
áá 
)
áá  
{
àà 
throw
ââ 
new
ââ '
DetailRepositoryException
ââ 3
(
ââ3 4
$str
ââ4 M
,
ââM N
ex
ââO Q
)
ââQ R
;
ââR S
}
ää 
}
ãã 	
}
åå 
}çç ØK
Ñ/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/DetailOrderRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class !
DetailOrderRepository &
:' ("
IDetailOrderRepository) ?
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public !
DetailOrderRepository $
($ %
ProdMonitorContext% 7
context8 ?
)? @
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
DetailOrder %
>% &"
CreateDetailOrderAsync' =
(= >
Guid> B
userIdC I
,I J!
DetailOrderStatusType !
status" (
,( )
float 

totalPrice 
, 
DateTime 
	orderDate 
, 
ICollection 
< 
OrderDetailData '
>' (
?( )
orderDetails* 6
)6 7
{ 	
try 
{ 
var 
detailOrder 
=  !
new" %
DetailOrder& 1
(1 2
id 
: 
Guid 
. 
NewGuid $
($ %
)% &
,& '
userId   
:   
userId   "
,  " #
status!! 
:!! 
status!! "
,!!" #

totalPrice"" 
:"" 

totalPrice""  *
,""* +
	orderDate## 
:## 
	orderDate## (
,##( )
orderDetails$$  
:$$  !
new$$" %
List$$& *
<$$* +
OrderDetail$$+ 6
>$$6 7
($$7 8
)$$8 9
)%% 
;%% 
if'' 
('' 
orderDetails''  
!=''! #
null''$ (
&&'') +
orderDetails'', 8
.''8 9
Any''9 <
(''< =
)''= >
)''> ?
{(( 
foreach)) 
()) 
var))  
orderDetailData))! 0
in))1 3
orderDetails))4 @
)))@ A
{** 
var++ 
orderDetail++ '
=++( )
new++* -
OrderDetail++. 9
(++9 :
id,, 
:,, 
Guid,,  $
.,,$ %
NewGuid,,% ,
(,,, -
),,- .
,,,. /
detailId-- $
:--$ %
orderDetailData--& 5
.--5 6
DetailId--6 >
,--> ?
detailOrderId.. )
:..) *
detailOrder..+ 6
...6 7
Id..7 9
,..9 :
detailsAmount// )
://) *
orderDetailData//+ :
.//: ;
DetailsAmount//; H
)00 
;00 
var11 
createdOrderDetail11 .
=11/ 0
await111 6
_context117 ?
.11? @
OrderDetails11@ L
.11L M
AddAsync11M U
(11U V 
OrderDetailConverter11V j
.11j k
ToDb11k o
(11o p
orderDetail11p {
)11{ |
!11| }
)11} ~
;11~ 
detailOrder22 #
.22# $
OrderDetails22$ 0
.220 1
Add221 4
(224 5
orderDetail225 @
)22@ A
;22A B
}44 
}55 
var77 
detailOrderDb77 !
=77" # 
DetailOrderConverter77$ 8
.778 9
ToDb779 =
(77= >
detailOrder77> I
)77I J
;77J K
var99 
result99 
=99 
_context99 %
.99% &
DetailOrders99& 2
.992 3
Add993 6
(996 7
detailOrderDb997 D
!99D E
)99E F
;99F G
await:: 
_context:: 
.:: 
SaveChangesAsync:: /
(::/ 0
)::0 1
;::1 2
var<< 
createdOrderDb<< "
=<<# $
await<<% *
_context<<+ 3
.<<3 4
DetailOrders<<4 @
.== 
Include== 
(== 
o== 
=>== !
o==" #
.==# $
OrderDetails==$ 0
)==0 1
.>> 
FirstOrDefaultAsync>> (
(>>( )
o>>) *
=>>>+ -
o>>. /
.>>/ 0
Id>>0 2
==>>3 5
result>>6 <
.>>< =
Entity>>= C
.>>C D
Id>>D F
)>>F G
;>>G H
if@@ 
(@@ 
createdOrderDb@@ "
==@@# %
null@@& *
)@@* +
{AA 
throwBB 
newBB %
InvalidOperationExceptionBB 7
(BB7 8
$strBB8 d
)BBd e
;BBe f
}CC 
returnEE  
DetailOrderConverterEE +
.EE+ ,
ToDomainEE, 4
(EE4 5
createdOrderDbEE5 C
)EEC D
!EED E
;EEE F
}FF 
catchGG 
(GG 
	ExceptionGG 
exGG 
)GG  
{HH 
throwII 
newII *
DetailOrderRepositoryExceptionII 8
(II8 9
$strII9 X
,IIX Y
exIIZ \
)II\ ]
;II] ^
}JJ 
}KK 	
publicNN 
asyncNN 
TaskNN 
<NN 
ListNN 
<NN 
DetailOrderNN *
>NN* +
>NN+ ,#
GetAllDetailOrdersAsyncNN- D
(NND E
DetailOrderFilterNNE V
filterNNW ]
)NN] ^
{OO 	
tryPP 
{QQ 

IQueryableRR 
<RR 
DetailOrderDbRR (
>RR( )
queryRR* /
=RR0 1
_contextRR2 :
.RR: ;
DetailOrdersRR; G
;RRG H
ifTT 
(TT 
filterTT 
.TT 
UserIdTT !
isTT" $
notTT% (
nullTT) -
)TT- .
{UU 
queryVV 
=VV 
queryVV !
.VV! "
WhereVV" '
(VV' (
oVV( )
=>VV* ,
oVV- .
.VV. /
UserIdVV/ 5
==VV6 8
filterVV9 ?
.VV? @
UserIdVV@ F
.VVF G
ValueVVG L
)VVL M
;VVM N
}WW 
ifYY 
(YY 
filterYY 
.YY 
StatusYY !
isYY" $
notYY% (
nullYY) -
)YY- .
{ZZ 
query[[ 
=[[ 
query[[ !
.[[! "
Where[[" '
([[' (
o[[( )
=>[[* ,
o[[- .
.[[. /
Status[[/ 5
==[[6 8*
DetailOrderStatusTypeConverter[[9 W
.[[W X
ToDb[[X \
([[\ ]
filter[[] c
.[[c d
Status[[d j
.[[j k
Value[[k p
)[[p q
)[[q r
;[[r s
}\\ 
var^^ 
detailOrders^^  
=^^! "
await^^# (
query^^) .
.__ 
Skip__ 
(__ 
filter__  
.__  !
Skip__! %
)__% &
.`` 
Take`` 
(`` 
filter``  
.``  !
Limit``! &
)``& '
.aa 
AsNoTrackingaa !
(aa! "
)aa" #
.bb 
ToListAsyncbb  
(bb  !
)bb! "
;bb" #
varee 
resultee 
=ee 
detailOrdersee )
.ee) *

ConvertAllee* 4
(ee4 5
oee5 6
=>ee7 9 
DetailOrderConverteree: N
.eeN O
ToDomaineeO W
(eeW X
oeeX Y
)eeY Z
!eeZ [
)ee[ \
;ee\ ]
returnff 
resultff 
;ff 
}gg 
catchhh 
(hh 
	Exceptionhh 
exhh 
)hh  
{ii 
throwjj 
newjj *
DetailOrderRepositoryExceptionjj 8
(jj8 9
$strjj9 [
,jj[ \
exjj] _
)jj_ `
;jj` a
}kk 
}ll 	
publicnn 
asyncnn 
Tasknn 
<nn 
DetailOrdernn %
?nn% &
>nn& '#
GetDetailOrderByIdAsyncnn( ?
(nn? @
Guidnn@ D
idnnE G
)nnG H
{oo 	
trypp 
{qq 
varrr 
detailOrderDbrr !
=rr" #
awaitrr$ )
_contextrr* 2
.rr2 3
DetailOrdersrr3 ?
.ss 
Includess 
(ss 
oss 
=>ss !
oss" #
.ss# $
OrderDetailsss$ 0
)ss0 1
.tt 
FirstOrDefaultAsynctt (
(tt( )
ott) *
=>tt+ -
ott. /
.tt/ 0
Idtt0 2
==tt3 5
idtt6 8
)tt8 9
;tt9 :
returnvv  
DetailOrderConvertervv +
.vv+ ,
ToDomainvv, 4
(vv4 5
detailOrderDbvv5 B
)vvB C
;vvC D
}ww 
catchxx 
(xx 
	Exceptionxx 
exxx 
)xx  
{yy 
throwzz 
newzz *
DetailOrderRepositoryExceptionzz 8
(zz8 9
$strzz9 `
,zz` a
exzzb d
)zzd e
;zze f
}{{ 
}|| 	
}}} 
}~~ ≤o
Ö/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Repositories/AssemblyLineRepository.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Repositories! -
{ 
public 

class "
AssemblyLineRepository '
:( )#
IAssemblyLineRepository* A
{ 
private 
readonly 
ProdMonitorContext +
_context, 4
;4 5
public "
AssemblyLineRepository %
(% &
ProdMonitorContext& 8
context9 @
)@ A
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
AssemblyLine &
>& '#
CreateAssemblyLineAsync( ?
(? @
AssemblyLineCreate@ R
lineS W
)W X
{ 	
try 
{ 
var 
assemblyLine  
=! "
new# &
AssemblyLine' 3
(3 4
id4 6
:6 7
Guid8 <
.< =
NewGuid= D
(D E
)E F
,F G
name 
: 
line 
. 
Name #
,# $
length 
: 
line  
.  !
Length! '
,' (
height 
: 
line  
.  !
Height! '
,' (
width 
: 
line 
.  
Width  %
,% &
status   
:   
line    
.    !
Status  ! '
,  ' (
downTime!! 
:!! 
line!! "
.!!" #
DownTime!!# +
,!!+ ,
inspectionsPerYear"" &
:""& '
line""( ,
."", -
InspectionsPerYear""- ?
,""? @
lastInspection## "
:##" #
line##$ (
.##( )
LastInspection##) 7
,##7 8
nextInspection$$ "
:$$" #
line$$$ (
.$$( )
NextInspection$$) 7
,$$7 8

defectRate%% 
:%% 
line%%  $
.%%$ %

DefectRate%%% /
,%%/ 0
tractors&& 
:&& 
line&& "
.&&" #
Tractors&&# +
,&&+ ,
details'' 
:'' 
line'' !
.''! "
Details''" )
)'') *
;''* +
var)) 
assemblyLineDb)) "
=))# $!
AssemblyLineConverter))% :
.)): ;
ToDb)); ?
())? @
assemblyLine))@ L
)))L M
;))M N
var++ 
result++ 
=++ 
_context++ %
.++% &
AssemblyLines++& 3
.++3 4
Add++4 7
(++7 8
assemblyLineDb++8 F
!++F G
)++G H
;++H I
await,, 
_context,, 
.,, 
SaveChangesAsync,, /
(,,/ 0
),,0 1
;,,1 2
var.. 
createdLine.. 
=..  !
await.." '
_context..( 0
...0 1
AssemblyLines..1 >
.// 
Include// 
(// 
l// 
=>// !
l//" #
.//# $
Tractors//$ ,
)//, -
.00 
Include00 
(00 
l00 
=>00 !
l00" #
.00# $
Details00$ +
)00+ ,
.11 
Include11 
(11 
l11 
=>11 !
l11" #
.11# $
ServiceReports11$ 2
)112 3
.22 
Include22 
(22 
l22 
=>22 !
l22" #
.22# $
ServiceRequests22$ 3
)223 4
.33 
FirstOrDefaultAsync33 (
(33( )
l33) *
=>33+ -
l33. /
.33/ 0
Id330 2
==333 5
result336 <
.33< =
Entity33= C
.33C D
Id33D F
)33F G
;33G H
if55 
(55 
createdLine55 
==55  "
null55# '
)55' (
{66 
throw77 
new77 %
InvalidOperationException77 7
(777 8
$str778 e
)77e f
;77f g
}88 
return:: !
AssemblyLineConverter:: ,
.::, -
ToDomain::- 5
(::5 6
createdLine::6 A
)::A B
!::B C
;::C D
};; 
catch<< 
(<< 
	Exception<< 
ex<< 
)<<  
{== 
throw>> 
new>> +
AssemblyLineRepositoryException>> 9
(>>9 :
$str>>: Q
,>>Q R
ex>>S U
)>>U V
;>>V W
}?? 
}@@ 	
publicBB 
asyncBB 
TaskBB 
<BB 
ListBB 
<BB 
AssemblyLineBB +
>BB+ ,
>BB, -$
GetAllAssemblyLinesAsyncBB. F
(BBF G
AssemblyLineFilterBBG Y
filterBBZ `
)BB` a
{CC 	

IQueryableDD 
<DD 
AssemblyLineDbDD %
>DD% &
queryDD' ,
=DD- .
_contextDD/ 7
.DD7 8
AssemblyLinesDD8 E
;DDE F
ifFF 
(FF 
filterFF 
.FF 
StatusFF 
isFF  
notFF! $
nullFF% )
)FF) *
queryGG 
=GG 
queryGG 
.GG 
WhereGG #
(GG# $
lGG$ %
=>GG& (
lGG) *
.GG* +
StatusGG+ 1
==GG2 4#
LineStatusTypeConverterGG5 L
.GGL M
ToDbGGM Q
(GGQ R
filterGGR X
.GGX Y
StatusGGY _
.GG_ `
ValueGG` e
)GGe f
)GGf g
;GGg h
varII 
assemblyLinesII 
=II 
awaitII  %
queryII& +
.JJ 
SkipJJ 
(JJ 
filterJJ 
.JJ 
SkipJJ !
)JJ! "
.KK 
TakeKK 
(KK 
filterKK 
.KK 
LimitKK "
)KK" #
.LL 
AsNoTrackingLL 
(LL 
)LL 
.MM 
ToListAsyncMM 
(MM 
)MM 
;MM 
varOO 
resultOO 
=OO 
assemblyLinesOO &
.OO& '

ConvertAllOO' 1
(OO1 2
lOO2 3
=>OO4 6!
AssemblyLineConverterOO7 L
.OOL M
ToDomainOOM U
(OOU V
lOOV W
)OOW X
!OOX Y
)OOY Z
;OOZ [
returnPP 
resultPP 
;PP 
}QQ 	
publicSS 
asyncSS 
TaskSS 
<SS 
AssemblyLineSS &
?SS& '
>SS' ($
GetAssemblyLineByIdAsyncSS) A
(SSA B
GuidSSB F
idSSG I
)SSI J
{TT 	
varUU 
assemblyLineUU 
=UU 
awaitUU $
_contextUU% -
.UU- .
AssemblyLinesUU. ;
.VV 
AsNoTrackingVV 
(VV 
)VV 
.WW 
FirstOrDefaultAsyncWW $
(WW$ %
lWW% &
=>WW' )
lWW* +
.WW+ ,
IdWW, .
==WW/ 1
idWW2 4
)WW4 5
;WW5 6
returnXX !
AssemblyLineConverterXX (
.XX( )
ToDomainXX) 1
(XX1 2
assemblyLineXX2 >
)XX> ?
;XX? @
}YY 	
public[[ 
async[[ 
Task[[ 
<[[ 
AssemblyLine[[ &
>[[& '#
UpdateAssemblyLineAsync[[( ?
([[? @
Guid[[@ D
id[[E G
,[[G H
AssemblyLineUpdate[[I [
assemblyLineUpdate[[\ n
)[[n o
{\\ 	
try]] 
{^^ 
var__ 
assemblyLine__  
=__! "
await__# (
_context__) 1
.__1 2
AssemblyLines__2 ?
.`` 
FirstOrDefaultAsync`` (
(``( )
l``) *
=>``+ -
l``. /
.``/ 0
Id``0 2
==``3 5
id``6 8
)``8 9
;``9 :
ifbb 
(bb 
assemblyLinebb  
==bb! #
nullbb$ (
)bb( )
{cc 
throwdd 
newdd  
KeyNotFoundExceptiondd 2
(dd2 3
$strdd3 D
)ddD E
;ddE F
}ee 
ifgg 
(gg 
!gg 
stringgg 
.gg 
IsNullOrEmptygg )
(gg) *
assemblyLineUpdategg* <
.gg< =
Namegg= A
)ggA B
)ggB C
{hh 
assemblyLineii  
.ii  !
Nameii! %
=ii& '
assemblyLineUpdateii( :
.ii: ;
Nameii; ?
;ii? @
}jj 
ifll 
(ll 
assemblyLineUpdatell &
.ll& '
Statusll' -
.ll- .
HasValuell. 6
)ll6 7
{mm 
assemblyLinenn  
.nn  !
Statusnn! '
=nn( )#
LineStatusTypeConverternn* A
.nnA B
ToDbnnB F
(nnF G
assemblyLineUpdatennG Y
.nnY Z
StatusnnZ `
.nn` a
Valuenna f
)nnf g
;nng h
}oo 
ifqq 
(qq 
assemblyLineUpdateqq &
.qq& '
DownTimeqq' /
.qq/ 0
HasValueqq0 8
)qq8 9
{rr 
assemblyLiness  
.ss  !
DownTimess! )
=ss* +
assemblyLineUpdatess, >
.ss> ?
DownTimess? G
.ssG H
ValuessH M
;ssM N
}tt 
ifvv 
(vv 
assemblyLineUpdatevv &
.vv& '
InspectionsPerYearvv' 9
.vv9 :
HasValuevv: B
)vvB C
{ww 
assemblyLinexx  
.xx  !
InspectionsPerYearxx! 3
=xx4 5
assemblyLineUpdatexx6 H
.xxH I
InspectionsPerYearxxI [
.xx[ \
Valuexx\ a
;xxa b
}yy 
if{{ 
({{ 
assemblyLineUpdate{{ &
.{{& '
LastInspection{{' 5
.{{5 6
HasValue{{6 >
){{> ?
{|| 
assemblyLine}}  
.}}  !
LastInspection}}! /
=}}0 1
assemblyLineUpdate}}2 D
.}}D E
LastInspection}}E S
.}}S T
Value}}T Y
;}}Y Z
}~~ 
if
ÄÄ 
(
ÄÄ  
assemblyLineUpdate
ÄÄ &
.
ÄÄ& '
NextInspection
ÄÄ' 5
.
ÄÄ5 6
HasValue
ÄÄ6 >
)
ÄÄ> ?
{
ÅÅ 
assemblyLine
ÇÇ  
.
ÇÇ  !
NextInspection
ÇÇ! /
=
ÇÇ0 1 
assemblyLineUpdate
ÇÇ2 D
.
ÇÇD E
NextInspection
ÇÇE S
.
ÇÇS T
Value
ÇÇT Y
;
ÇÇY Z
}
ÉÉ 
if
ÖÖ 
(
ÖÖ  
assemblyLineUpdate
ÖÖ &
.
ÖÖ& '

DefectRate
ÖÖ' 1
.
ÖÖ1 2
HasValue
ÖÖ2 :
)
ÖÖ: ;
{
ÜÜ 
assemblyLine
áá  
.
áá  !

DefectRate
áá! +
=
áá, - 
assemblyLineUpdate
áá. @
.
áá@ A

DefectRate
ááA K
.
ááK L
Value
ááL Q
;
ááQ R
}
àà 
_context
ää 
.
ää 
AssemblyLines
ää &
.
ää& '
Update
ää' -
(
ää- .
assemblyLine
ää. :
)
ää: ;
;
ää; <
await
ãã 
_context
ãã 
.
ãã 
SaveChangesAsync
ãã /
(
ãã/ 0
)
ãã0 1
;
ãã1 2
return
çç #
AssemblyLineConverter
çç ,
.
çç, -
ToDomain
çç- 5
(
çç5 6
assemblyLine
çç6 B
)
ççB C
!
ççC D
;
ççD E
}
éé 
catch
èè 
(
èè 
	Exception
èè 
ex
èè 
)
èè  
{
êê 
throw
ëë 
new
ëë -
AssemblyLineRepositoryException
ëë 9
(
ëë9 :
$str
ëë: Y
,
ëëY Z
ex
ëë[ ]
)
ëë] ^
;
ëë^ _
}
íí 
}
ìì 	
public
ïï 
Task
ïï %
DeleteAssemblyLineAsync
ïï +
(
ïï+ ,
Guid
ïï, 0
id
ïï1 3
)
ïï3 4
{
ññ 	
try
óó 
{
òò 
var
ôô 
assemblyLine
ôô  
=
ôô! "
_context
ôô# +
.
ôô+ ,
AssemblyLines
ôô, 9
.
öö 
FirstOrDefault
öö #
(
öö# $
l
öö$ %
=>
öö& (
l
öö) *
.
öö* +
Id
öö+ -
==
öö. 0
id
öö1 3
)
öö3 4
;
öö4 5
if
úú 
(
úú 
assemblyLine
úú  
==
úú! #
null
úú$ (
)
úú( )
{
ùù 
throw
ûû 
new
ûû #
LineNotFoundException
ûû 3
(
ûû3 4
$str
ûû4 E
)
ûûE F
;
ûûF G
}
üü 
_context
°° 
.
°° 
AssemblyLines
°° &
.
°°& '
Remove
°°' -
(
°°- .
assemblyLine
°°. :
)
°°: ;
;
°°; <
return
¢¢ 
_context
¢¢ 
.
¢¢  
SaveChangesAsync
¢¢  0
(
¢¢0 1
)
¢¢1 2
;
¢¢2 3
}
££ 
catch
§§ 
(
§§ #
LineNotFoundException
§§ (
)
§§( )
{
•• 
throw
¶¶ 
;
¶¶ 
}
ßß 
catch
®® 
(
®® 
	Exception
®® 
ex
®® 
)
®®  
{
©© 
throw
™™ 
new
™™ -
AssemblyLineRepositoryException
™™ 9
(
™™9 :
$str
™™: Y
,
™™Y Z
ex
™™[ ]
)
™™] ^
;
™™^ _
}
´´ 
}
¨¨ 	
}
≠≠ 
}ÆÆ ú*
o/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/UserDb.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
{

 
public 

class 
UserDb 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Surname 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 

Patronymic  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 

Department  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
byte 
[ 
] 
PasswordHash "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
byte 
[ 
] 
PasswordSalt "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DateOnly 
BirthDay  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
	SexTypeDb 
Sex 
{ 
get "
;" #
set$ '
;' (
}) *
public 

RoleTypeDb 
Role 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
? 
TwoFactorCode $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DateTime 
? 
TwoFactorExpiration ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
ICollection "
<" #
DetailOrderDb# 0
>0 1
?1 2
DetailOrders3 ?
{@ A
getB E
;E F
setG J
;J K
}L M
=N O
[P Q
]Q R
;R S
public 
virtual 
ICollection "
<" #
ServiceRequestDb# 3
>3 4
?4 5
ServiceRequests6 E
{F G
getH K
;K L
setM P
;P Q
}R S
=T U
[V W
]W X
;X Y
public 
virtual 
ICollection "
<" #
ServiceReportDb# 2
>2 3
?3 4
ServiceReports5 C
{D E
getF I
;I J
setK N
;N O
}P Q
=R S
[T U
]U V
;V W
public 
UserDb 
( 
Guid 
id 
, 
string   
name   
,   
string!! 
surname!! 
,!! 
string"" 

patronymic"" 
,"" 
string## 

department## 
,## 
string$$ 
email$$ 
,$$ 
byte%% 
[%% 
]%% 
passwordHash%% 
,%%  
byte&& 
[&& 
]&& 
passwordSalt&& 
,&&  
DateOnly'' 
birthDay'' 
,'' 
	SexTypeDb(( 
sex(( 
,(( 

RoleTypeDb)) 
role)) 
,)) 
string** 
?** 
twoFactorCode** !
=**" #
null**$ (
,**( )
DateTime++ 
?++ 
twoFactorExpiration++ )
=++* +
null++, 0
)++0 1
{,, 	
Id-- 
=-- 
id-- 
;-- 
Name.. 
=.. 
name.. 
;.. 
Surname// 
=// 
surname// 
;// 

Patronymic00 
=00 

patronymic00 #
;00# $

Department11 
=11 

department11 #
;11# $
Email22 
=22 
email22 
;22 
PasswordHash33 
=33 
passwordHash33 '
;33' (
PasswordSalt44 
=44 
passwordSalt44 '
;44' (
BirthDay55 
=55 
birthDay55 
;55  
Sex66 
=66 
sex66 
;66 
Role77 
=77 
role77 
;77 
TwoFactorCode88 
=88 
twoFactorCode88 )
;88) *
TwoFactorExpiration99 
=99  !
twoFactorExpiration99" 5
;995 6
}:: 	
};; 
}<< #
r/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/TractorDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public 

class 
	TractorDb 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
string 
Model 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
ReleaseYear 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 

EngineType  
{! "
get# &
;& '
set( +
;+ ,
}- .
public		 
string		 
EnginePower		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
int

 
FrontTireSize

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
public 
int 
BackTireSize 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
WheelsAmount 
{  !
get" %
;% &
set' *
;* +
}, -
public 
int 
TankCapacity 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
EcologicalStandard (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
float 
Length 
{ 
get !
;! "
set# &
;& '
}( )
public 
float 
Width 
{ 
get  
;  !
set" %
;% &
}' (
public 
float 
CabinHeight  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
virtual 
ICollection "
<" #
AssemblyLineDb# 1
>1 2
?2 3
AssemblyLines4 A
{B C
getD G
;G H
setI L
;L M
}N O
public 
	TractorDb 
( 
Guid 
id  
,  !
string 
model  %
,% &
int 
releaseYear (
,( )
string 

engineType  *
,* +
string 
enginePower  +
,+ ,
int 
frontTireSize *
,* +
int 
backTireSize )
,) *
int 
wheelsAmount )
,) *
int 
tankCapacity )
,) *
string   
ecologicalStandard    2
,  2 3
float!! 
length!! %
,!!% &
float"" 
width"" $
,""$ %
float## 
cabinHeight## *
)##* +
{$$ 	
Id%% 
=%% 
id%% 
;%% 
Model&& 
=&& 
model&& 
;&& 
ReleaseYear'' 
='' 
releaseYear'' %
;''% &

EngineType(( 
=(( 

engineType(( #
;((# $
EnginePower)) 
=)) 
enginePower)) %
;))% &
FrontTireSize** 
=** 
frontTireSize** )
;**) *
BackTireSize++ 
=++ 
backTireSize++ '
;++' (
WheelsAmount,, 
=,, 
wheelsAmount,, '
;,,' (
TankCapacity-- 
=-- 
tankCapacity-- '
;--' (
EcologicalStandard.. 
=..  
ecologicalStandard..! 3
;..3 4
Length// 
=// 
length// 
;// 
Width00 
=00 
width00 
;00 
CabinHeight11 
=11 
cabinHeight11 %
;11% &
}22 	
public44 
	TractorDb44 
(44 
)44 
{55 	
}66 	
}77 
}88 ƒ
q/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/SupplyDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{		 
public

 

class

 
SupplyDb

 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
Guid 
DetailId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 

SupplyDate "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
Quantity 
{ 
get !
;! "
set# &
;& '
}( )
public 
DetailDb 
? 
Detail 
{  !
get" %
;% &
set' *
;* +
}, -
public 
SupplyDb 
( 
Guid 
id 
,  
Guid 
detailId 
, 
DateTime 

supplyDate 
,  
int 
quantity 
) 
{ 	
Id 
= 
id 
; 
DetailId 
= 
detailId 
;  

SupplyDate 
= 

supplyDate #
;# $
Quantity 
= 
quantity 
;  
} 	
} 
} î
y/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/ServiceRequestDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public 

class 
ServiceRequestDb !
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 
Guid

 
LineId

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
Guid 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
DateTime 
RequestDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
RequestStatusTypeDb "
Status# )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
RequestTypeDb 
Type !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
UserDb 
? 
User #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
virtual 
AssemblyLineDb %
?% &
AssemblyLine' 3
{4 5
get6 9
;9 :
set; >
;> ?
}@ A
public 
Guid 
? 
ServiceReportId $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
ServiceReportDb &
?& '
ServiceReport( 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
ServiceRequestDb 
(  
Guid  $
id% '
,' (
Guid  $
lineId% +
,+ ,
Guid  $
userId% +
,+ ,
DateTime  (
requestDate) 4
,4 5
RequestStatusTypeDb  3
status4 :
,: ;
RequestTypeDb  -
type. 2
,2 3
string  &
description' 2
)2 3
{ 	
Id 
= 
id 
; 
LineId 
= 
lineId 
; 
UserId   
=   
userId   
;   
RequestDate!! 
=!! 
requestDate!! %
;!!% &
Status"" 
="" 
status"" 
;"" 
Type## 
=## 
type## 
;## 
Description$$ 
=$$ 
description$$ %
;$$% &
}%% 	
public'' 
ServiceRequestDb'' 
(''  
)''  !
{(( 	
}** 	
}++ 
},, å
x/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/ServiceReportDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public		 

class		 
ServiceReportDb		  
{

 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
Guid 
LineId 
{ 
get  
;  !
set" %
;% &
}' (
public 
Guid 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
Guid 
	RequestId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
DateTime 
OpenDate  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
? 
	CloseDate "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
float 
? 
Price 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
virtual 
AssemblyLineDb %
AssemblyLine& 2
{3 4
get6 9
;9 :
set; >
;> ?
}@ A
public 
virtual 
UserDb 
User "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
virtual 
ServiceRequestDb '
ServiceRequest( 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
ServiceReportDb 
( 
Guid #
id$ &
,& '
Guid 
lineId 
, 
Guid 
userId 
, 
Guid 
	requestId 
, 
DateTime 
openDate 
, 
DateTime 
? 
	closeDate 
,  
float 
? 
price 
, 
string   
?   
description   
)    
{!! 	
Id"" 
="" 
id"" 
;"" 
LineId## 
=## 
lineId## 
;## 
UserId$$ 
=$$ 
userId$$ 
;$$ 
	RequestId%% 
=%% 
	requestId%% !
;%%! "
OpenDate&& 
=&& 
openDate&& 
;&&  
	CloseDate'' 
='' 
	closeDate'' !
;''! "
Price(( 
=(( 
price(( 
;(( 
Description)) 
=)) 
description)) %
;))% &
}** 	
public,, 
ServiceReportDb,, 
(,, 
),,  
{-- 	
}// 	
}00 
}11 ¶
v/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/OrderDetailDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public		 

class		 
OrderDetailDb		 
{

 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
Guid 
DetailId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Guid 
DetailOrderId !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
DetailsAmount  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
virtual 
DetailDb 
Detail  &
{' (
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual 
DetailOrderDb $
Order% *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
OrderDetailDb 
( 
Guid !
id" $
,$ %
Guid 
detailId 
, 
Guid 
detailOrderId 
, 
int 
detailsAmount 
) 
{ 	
Id 
= 
id 
; 
DetailId 
= 
detailId 
;  
DetailOrderId 
= 
detailOrderId )
;) *
DetailsAmount 
= 
detailsAmount )
;) *
} 	
} 
} è
x/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/SexTypeDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 
	SexTypeDb		 
{

 
Male 
= 
$num 
, 
Female 
= 
$num 
, 
} 
} ¶
y/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/RoleTypeDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 

RoleTypeDb		 
{

 
Admin 
= 
$num 
, 
Operator 
= 
$num 
, 

Specialist 
= 
$num 
, 
Verification 
= 
$num 
, 
} 
} ù
|/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/RequestTypeDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 
RequestTypeDb		 
{

 

Inspection 
= 
$num 
, 
Repair 
= 
$num 
, 
} 
} Ó
Ç/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/RequestStatusTypeDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 
RequestStatusTypeDb		 #
{

 
Opened 
= 
$num 
, 

InProgress 
= 
$num 
, 
Closed 
= 
$num 
, 
} 
} £
/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/LineStatusTypeDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 
LineStatusTypeDb		  
{

 
Working 
= 
$num 
, 
	OnService 
= 
$num 
, 
} 
} ¥
Ç/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Enums/DetailOrderStatusDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (
Enums( -
{ 
public		 

enum		 
DetailOrderStatusDb		 #
{

 

Processing 
= 
$num 
, 
InWork 
= 
$num 
, 

InDelivery 
= 
$num 
, 
Done 
= 
$num 
, 
} 
} Û
v/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/DetailOrderDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{		 
public

 

class

 
DetailOrderDb

 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public 
Guid 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
UserDb 
? 
User 
{ 
get !
;! "
set# &
;& '
}( )
public 
DetailOrderStatusDb "
Status# )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
float 

TotalPrice 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTime 
	OrderDate !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
ICollection "
<" #
OrderDetailDb# 0
>0 1
OrderDetails2 >
{? @
getA D
;D E
setF I
;I J
}K L
public 
DetailOrderDb 
( 
Guid !
id" $
,$ %
Guid 
userId 
, 
DetailOrderStatusDb 
status  &
,& '
float 

totalPrice 
, 
DateTime 
	orderDate 
) 
{ 	
Id 
= 
id 
; 
UserId 
= 
userId 
; 
Status 
= 
status 
; 

TotalPrice 
= 

totalPrice #
;# $
	OrderDate   
=   
	orderDate   !
;  ! "
}!! 	
}"" 
}## √
q/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/DetailDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public 

class 
DetailDb 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public		 
string		 
Name		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 
string

 
Country

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
int 
Amount 
{ 
get 
;  
set! $
;$ %
}& '
public 
float 
Price 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
Length 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Height 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
Width 
{ 
get 
; 
set  #
;# $
}% &
public 
virtual 
ICollection "
<" #
AssemblyLineDb# 1
>1 2
AssemblyLines3 @
{A B
getC F
;F G
setH K
;K L
}M N
public 
virtual 
ICollection "
<" #
OrderDetailDb# 0
>0 1
OrderDetails2 >
{? @
getA D
;D E
setF I
;I J
}K L
public 
virtual 
ICollection "
<" #
SupplyDb# +
>+ ,
Supplies- 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
=D E
newF I
ListJ N
<N O
SupplyDbO W
>W X
(X Y
)Y Z
;Z [
public 
DetailDb 
( 
Guid 
id 
,  
string 
name #
,# $
string 
country &
,& '
int 
amount "
," #
float 
price #
,# $
int 
length "
," #
int 
height "
," #
int 
width !
)! "
{ 	
Id 
= 
id 
; 
Name 
= 
name 
; 
Country   
=   
country   
;   
Amount!! 
=!! 
amount!! 
;!! 
Price"" 
="" 
price"" 
;"" 
Length## 
=## 
length## 
;## 
Height$$ 
=$$ 
height$$ 
;$$ 
Width%% 
=%% 
width%% 
;%% 
Supplies'' 
='' 
new'' 
List'' 
<''  
SupplyDb''  (
>''( )
('') *
)''* +
;''+ ,
}(( 	
})) 
}** ì'
Å/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/UserConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
{

 
public 

static 
class 
UserConverter %
{ 
public 
static 
User 
? 
ToDomain $
($ %
UserDb% +
?+ ,
userDb- 3
)3 4
{ 	
if 
( 
userDb 
== 
null 
) 
{ 
return 
null 
; 
} 
var 
sex 
= 
SexTypeConverter &
.& '
ToDomain' /
(/ 0
userDb0 6
.6 7
Sex7 :
): ;
;; <
var 
role 
= 
RoleTypeConverter (
.( )
ToDomain) 1
(1 2
userDb2 8
.8 9
Role9 =
)= >
;> ?
return 
new 
User 
( 
id 
: 
userDb  &
.& '
Id' )
,) *
name 
: 
userDb 
. 
Name !
,! "
surname 
: 
userDb 
.  
Surname  '
,' (

patronymic 
: 
userDb "
." #

Patronymic# -
,- .

department 
: 
userDb "
." #

Department# -
,- .
email 
: 
userDb 
. 
Email #
,# $
passwordHash 
: 
userDb $
.$ %
PasswordHash% 1
,1 2
passwordSalt 
: 
userDb $
.$ %
PasswordSalt% 1
,1 2
birthDay 
: 
userDb  
.  !
BirthDay! )
,) *
sex   
:   
sex   
,   
role!! 
:!! 
role!! 
,!! 
twoFactorCode"" 
:"" 
userDb"" %
.""% &
TwoFactorCode""& 3
,""3 4
twoFactorExpiration## #
:### $
userDb##% +
.##+ ,
TwoFactorExpiration##, ?
)##? @
;##@ A
}$$ 	
public&& 
static&& 
UserDb&& 
?&& 
ToDb&& "
(&&" #
User&&# '
?&&' (

userDomain&&) 3
)&&3 4
{'' 	
if(( 
((( 

userDomain(( 
==(( 
null(( "
)((" #
{)) 
return** 
null** 
;** 
}++ 
var-- 
sex-- 
=-- 
SexTypeConverter-- &
.--& '
ToDb--' +
(--+ ,

userDomain--, 6
.--6 7
Sex--7 :
)--: ;
;--; <
var.. 
role.. 
=.. 
RoleTypeConverter.. (
...( )
ToDb..) -
(..- .

userDomain... 8
...8 9
Role..9 =
)..= >
;..> ?
return00 
new00 
UserDb00 
(00 
id00  
:00  !

userDomain00" ,
.00, -
Id00- /
,00/ 0
name11 
:11 

userDomain11  
.11  !
Name11! %
,11% &
surname22 
:22 

userDomain22 #
.22# $
Surname22$ +
,22+ ,

patronymic33 
:33 

userDomain33 &
.33& '

Patronymic33' 1
,331 2

department44 
:44 

userDomain44 &
.44& '

Department44' 1
,441 2
email55 
:55 

userDomain55 !
.55! "
Email55" '
,55' (
passwordHash66 
:66 

userDomain66 (
.66( )
PasswordHash66) 5
,665 6
passwordSalt77 
:77 

userDomain77 (
.77( )
PasswordSalt77) 5
,775 6
birthDay88 
:88 

userDomain88 $
.88$ %
BirthDay88% -
,88- .
sex99 
:99 
sex99 
,99 
role:: 
::: 
role:: 
,:: 
twoFactorCode;; 
:;; 

userDomain;; )
.;;) *
TwoFactorCode;;* 7
,;;7 8
twoFactorExpiration<< #
:<<# $

userDomain<<% /
.<</ 0
TwoFactorExpiration<<0 C
)<<C D
;<<D E
}>> 	
}?? 
}@@ Ú&
Ñ/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/TractorConverter.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (

Converters( 2
{		 
public

 

static

 
class

 
TractorConverter

 (
{ 
public 
static 
Tractor 
? 
ToDomain '
(' (
	TractorDb( 1
?1 2
	tractorDb3 <
)< =
{ 	
if 
( 
	tractorDb 
== 
null !
)! "
{ 
return 
null 
; 
} 
return 
new 
Tractor 
( 
id !
:! "
	tractorDb# ,
., -
Id- /
,/ 0
model 
: 
	tractorDb  
.  !
Model! &
,& '
releaseYear 
: 
	tractorDb &
.& '
ReleaseYear' 2
,2 3

engineType 
: 
	tractorDb %
.% &

EngineType& 0
,0 1
enginePower 
: 
	tractorDb &
.& '
EnginePower' 2
,2 3
frontTireSize 
: 
	tractorDb (
.( )
FrontTireSize) 6
,6 7
backTireSize 
: 
	tractorDb '
.' (
BackTireSize( 4
,4 5
wheelsAmount 
: 
	tractorDb '
.' (
WheelsAmount( 4
,4 5
tankCapacity 
: 
	tractorDb '
.' (
TankCapacity( 4
,4 5
ecologicalStandart "
:" #
	tractorDb$ -
.- .
EcologicalStandard. @
,@ A
length 
: 
	tractorDb !
.! "
Length" (
,( )
width 
: 
	tractorDb  
.  !
Width! &
,& '
cabinHeight 
: 
	tractorDb &
.& '
CabinHeight' 2
,2 3
assemblyLines   
:   
	tractorDb   (
.  ( )
AssemblyLines  ) 6
?  6 7
.  7 8
Select  8 >
(  > ?!
AssemblyLineConverter  ? T
.  T U
ToDomain  U ]
)  ] ^
.  ^ _
ToList  _ e
(  e f
)  f g
??  h j
new  k n
List  o s
<  s t
AssemblyLine	  t Ä
>
  Ä Å
(
  Å Ç
)
  Ç É
)
  É Ñ
;
  Ñ Ö
}!! 	
public## 
static## 
	TractorDb## 
?##  
ToDb##! %
(##% &
Tractor##& -
?##- .
tractorDomain##/ <
)##< =
{$$ 	
if%% 
(%% 
tractorDomain%% 
==%%  
null%%! %
)%%% &
{&& 
return'' 
null'' 
;'' 
}(( 
return** 
new** 
	TractorDb**  
(**  !
id++ 
:++ 
tractorDomain++ !
.++! "
Id++" $
,++$ %
model,, 
:,, 
tractorDomain,, $
.,,$ %
Model,,% *
,,,* +
releaseYear-- 
:-- 
tractorDomain-- *
.--* +
ReleaseYear--+ 6
,--6 7

engineType.. 
:.. 
tractorDomain.. )
...) *

EngineType..* 4
,..4 5
enginePower// 
:// 
tractorDomain// *
.//* +
EnginePower//+ 6
,//6 7
frontTireSize00 
:00 
tractorDomain00 ,
.00, -
FrontTireSize00- :
,00: ;
backTireSize11 
:11 
tractorDomain11 +
.11+ ,
BackTireSize11, 8
,118 9
wheelsAmount22 
:22 
tractorDomain22 +
.22+ ,
WheelsAmount22, 8
,228 9
tankCapacity33 
:33 
tractorDomain33 +
.33+ ,
TankCapacity33, 8
,338 9
ecologicalStandard44 "
:44" #
tractorDomain44$ 1
.441 2
EcologicalStandart442 D
,44D E
length55 
:55 
tractorDomain55 %
.55% &
Length55& ,
,55, -
width66 
:66 
tractorDomain66 $
.66$ %
Width66% *
,66* +
cabinHeight77 
:77 
tractorDomain77 *
.77* +
CabinHeight77+ 6
)88 
;88 
}99 	
}:: 
};; ï
ã/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/ServiceRequestConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
{

 
public 

static 
class #
ServiceRequestConverter /
{ 
public 
static 
ServiceRequest $
?$ %
ToDomain& .
(. /
ServiceRequestDb/ ?
?? @
serviceRequestDbA Q
)Q R
{ 	
if 
( 
serviceRequestDb  
==! #
null$ (
)( )
{ 
return 
null 
; 
} 
var 
requestStatusType !
=" #&
RequestStatusTypeConverter$ >
.> ?
ToDomain? G
(G H
serviceRequestDbH X
.X Y
StatusY _
)_ `
;` a
var 
requestType 
=  
RequestTypeConverter 2
.2 3
ToDomain3 ;
(; <
serviceRequestDb< L
.L M
TypeM Q
)Q R
;R S
return 
new 
ServiceRequest %
(% &
id& (
:( )
serviceRequestDb* :
.: ;
Id; =
,= >
lineId 
: 
serviceRequestDb (
.( )
LineId) /
,/ 0
userId 
: 
serviceRequestDb (
.( )
UserId) /
,/ 0
requestDate 
: 
serviceRequestDb -
.- .
RequestDate. 9
,9 :
status 
: 
requestStatusType )
,) *
type 
: 
requestType !
,! "
description 
: 
serviceRequestDb -
.- .
Description. 9
)9 :
;: ;
} 	
public   
static   
ServiceRequestDb   &
?  & '
ToDb  ( ,
(  , -
ServiceRequest  - ;
?  ; < 
serviceRequestDomain  = Q
)  Q R
{!! 	
if"" 
(""  
serviceRequestDomain"" $
==""% '
null""( ,
)"", -
{## 
return$$ 
null$$ 
;$$ 
}%% 
var'' 
requestStatusType'' !
=''" #&
RequestStatusTypeConverter''$ >
.''> ?
ToDb''? C
(''C D 
serviceRequestDomain''D X
.''X Y
Status''Y _
)''_ `
;''` a
var(( 
requestType(( 
=((  
RequestTypeConverter(( 2
.((2 3
ToDb((3 7
(((7 8 
serviceRequestDomain((8 L
.((L M
Type((M Q
)((Q R
;((R S
return++ 
new++ 
ServiceRequestDb++ '
(++' (
id++( *
:++* + 
serviceRequestDomain++, @
.++@ A
Id++A C
,++C D
lineId,, 
:,,  
serviceRequestDomain,, ,
.,,, -
LineId,,- 3
,,,3 4
userId-- 
:--  
serviceRequestDomain-- ,
.--, -
UserId--- 3
,--3 4
requestDate.. 
:..  
serviceRequestDomain.. 1
...1 2
RequestDate..2 =
,..= >
status// 
:// 
requestStatusType// )
,//) *
type00 
:00 
requestType00 !
,00! "
description11 
:11  
serviceRequestDomain11 1
.111 2
Description112 =
)11= >
;11> ?
}22 	
}33 
}44 ø
ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/ServiceReportConverter.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (

Converters( 2
{		 
public

 

static

 
class

 "
ServiceReportConverter

 .
{ 
public 
static 
ServiceReport #
?# $
ToDomain% -
(- .
ServiceReportDb. =
?= >
serviceReportDb? N
)N O
{ 	
if 
( 
serviceReportDb 
==  "
null# '
)' (
{ 
return 
null 
; 
} 
return 
new 
ServiceReport $
($ %
id% '
:' (
serviceReportDb) 8
.8 9
Id9 ;
,; <
lineId 
: 
serviceReportDb '
.' (
LineId( .
,. /
userId 
: 
serviceReportDb '
.' (
UserId( .
,. /
	requestId 
: 
serviceReportDb *
.* +
	RequestId+ 4
,4 5
openDate 
: 
serviceReportDb )
.) *
OpenDate* 2
,2 3
	closeDate 
: 
serviceReportDb *
.* +
	CloseDate+ 4
,4 5
price 
: 
serviceReportDb &
.& '
Price' ,
,, -
description 
: 
serviceReportDb ,
., -
Description- 8
)8 9
;9 :
} 	
public 
static 
ServiceReportDb %
?% &
ToDb' +
(+ ,
ServiceReport, 9
?9 :
serviceReportDomain; N
)N O
{ 	
if 
( 
serviceReportDomain #
==$ &
null' +
)+ ,
{   
return!! 
null!! 
;!! 
}"" 
return$$ 
new$$ 
ServiceReportDb$$ &
($$& '
id$$' )
:$$) *
serviceReportDomain$$+ >
.$$> ?
Id$$? A
,$$A B
lineId%% 
:%% 
serviceReportDomain%% +
.%%+ ,
LineId%%, 2
,%%2 3
userId&& 
:&& 
serviceReportDomain&& +
.&&+ ,
UserId&&, 2
,&&2 3
	requestId'' 
:'' 
serviceReportDomain'' .
.''. /
	RequestId''/ 8
,''8 9
openDate(( 
:(( 
serviceReportDomain(( -
.((- .
OpenDate((. 6
,((6 7
	closeDate)) 
:)) 
serviceReportDomain)) .
.)). /
	CloseDate))/ 8
,))8 9
price** 
:** 
serviceReportDomain** *
.*** +
Price**+ 0
,**0 1
description++ 
:++ 
serviceReportDomain++ 0
.++0 1
Description++1 <
)++< =
;++= >
},, 	
}-- 
}.. á
à/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/OrderDetailConverter.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (

Converters( 2
{		 
public

 

static

 
class

  
OrderDetailConverter

 ,
{ 
public 
static 
OrderDetail !
?! "
ToDomain# +
(+ ,
OrderDetailDb, 9
?9 :
orderDetailDb; H
)H I
{ 	
if 
( 
orderDetailDb 
==  
null! %
)% &
{ 
return 
null 
; 
} 
return 
new 
OrderDetail "
(" #
id# %
:% &
orderDetailDb' 4
.4 5
Id5 7
,7 8
detailId 
: 
orderDetailDb '
.' (
DetailId( 0
,0 1
detailOrderId 
: 
orderDetailDb ,
., -
DetailOrderId- :
,: ;
detailsAmount 
: 
orderDetailDb ,
., -
DetailsAmount- :
): ;
;; <
} 	
public 
static 
OrderDetailDb #
?# $
ToDb% )
() *
OrderDetail* 5
?5 6
orderDetailDomain7 H
)H I
{ 	
if 
( 
orderDetailDomain !
==" $
null% )
)) *
{ 
return 
null 
; 
} 
return   
new   
OrderDetailDb   $
(  $ %
id  % '
:  ' (
orderDetailDomain  ) :
.  : ;
Id  ; =
,  = >
detailId!! 
:!! 
orderDetailDomain!! +
.!!+ ,
DetailId!!, 4
,!!4 5
detailOrderId"" 
:"" 
orderDetailDomain"" 0
.""0 1
DetailOrderId""1 >
,""> ?
detailsAmount## 
:## 
orderDetailDomain## 0
.##0 1
DetailsAmount##1 >
)##> ?
;##? @
}$$ 	
}%% 
}&& «
ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/SexTypeConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
.		2 3
Enums		3 8
{

 
public 

static 
class 
SexTypeConverter (
{ 
public 
static 
SexType 
ToDomain &
(& '
	SexTypeDb' 0
	sexTypeDb1 :
): ;
{ 	
return 
	sexTypeDb 
switch #
{ 
	SexTypeDb 
. 
Male 
=> !
SexType" )
.) *
Male* .
,. /
	SexTypeDb 
. 
Female  
=>! #
SexType$ +
.+ ,
Female, 2
,2 3
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
	sexTypeDbB K
)K L
,L M
	sexTypeDbN W
,W X
$strY o
)o p
,p q
} 
; 
} 	
public 
static 
	SexTypeDb 
ToDb  $
($ %
SexType% ,
sexTypeDomin- 9
)9 :
{ 	
return 
sexTypeDomin 
switch  &
{ 
SexType 
. 
Male 
=> 
	SexTypeDb (
.( )
Male) -
,- .
SexType 
. 
Female 
=>  
	SexTypeDb! *
.* +
Female+ 1
,1 2
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
sexTypeDominB N
)N O
,O P
sexTypeDominQ ]
,] ^
$str_ u
)u v
,v w
} 
; 
} 	
}   
}!! …
ã/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/RoleTypeConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
.		2 3
Enums		3 8
{

 
public 

static 
class 
RoleTypeConverter )
{ 
public 
static 
RoleType 
ToDomain '
(' (

RoleTypeDb( 2

roleTypeDb3 =
)= >
{ 	
return 

roleTypeDb 
switch $
{ 

RoleTypeDb 
. 
Operator #
=>$ &
RoleType' /
./ 0
Operator0 8
,8 9

RoleTypeDb 
. 
Admin  
=>! #
RoleType$ ,
., -
Admin- 2
,2 3

RoleTypeDb 
. 

Specialist %
=>& (
RoleType) 1
.1 2

Specialist2 <
,< =

RoleTypeDb 
. 
Verification '
=>( *
RoleType+ 3
.3 4
Verification4 @
,@ A
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B

roleTypeDbB L
)L M
,M N

roleTypeDbO Y
,Y Z
$str[ q
)q r
,r s
} 
; 
} 	
public 
static 

RoleTypeDb  
ToDb! %
(% &
RoleType& .
roleType/ 7
)7 8
{ 	
return 
roleType 
switch "
{ 
RoleType 
. 
Operator !
=>" $

RoleTypeDb% /
./ 0
Operator0 8
,8 9
RoleType 
. 
Admin 
=> !

RoleTypeDb" ,
., -
Admin- 2
,2 3
RoleType 
. 

Specialist #
=>$ &

RoleTypeDb' 1
.1 2

Specialist2 <
,< =
RoleType   
.   
Verification   %
=>  & (

RoleTypeDb  ) 3
.  3 4
Verification  4 @
,  @ A
_!! 
=>!! 
throw!! 
new!! '
ArgumentOutOfRangeException!! :
(!!: ;
nameof!!; A
(!!A B
roleType!!B J
)!!J K
,!!K L
roleType!!M U
,!!U V
$str!!W m
)!!m n
,!!n o
}"" 
;"" 
}## 	
}$$ 
}%% æ
é/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/RequestTypeConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
.		2 3
Enums		3 8
{

 
public 

static 
class  
RequestTypeConverter ,
{ 
public 
static 
RequestType !
ToDomain" *
(* +
RequestTypeDb+ 8
requestTypeDb9 F
)F G
{ 	
return 
requestTypeDb  
switch! '
{ 
RequestTypeDb 
. 

Inspection (
=>) +
RequestType, 7
.7 8

Inspection8 B
,B C
RequestTypeDb 
. 
Repair $
=>% '
RequestType( 3
.3 4
Repair4 :
,: ;
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
requestTypeDbB O
)O P
,P Q
requestTypeDbR _
,_ `
$stra w
)w x
,x y
} 
; 
} 	
public 
static 
RequestTypeDb #
ToDb$ (
(( )
RequestType) 4
requestTypeDomain5 F
)F G
{ 	
return 
requestTypeDomain $
switch% +
{ 
RequestType 
. 

Inspection &
=>' )
RequestTypeDb* 7
.7 8

Inspection8 B
,B C
RequestType 
. 
Repair "
=># %
RequestTypeDb& 3
.3 4
Repair4 :
,: ;
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
requestTypeDomainB S
)S T
,T U
requestTypeDomainV g
,g h
$stri 
)	 Ä
,
Ä Å
} 
; 
} 	
}   
}!! ì
î/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/RequestStatusTypeConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
.		2 3
Enums		3 8
{

 
public 

static 
class &
RequestStatusTypeConverter 2
{ 
public 
static 
RequestStatusType '
ToDomain( 0
(0 1
RequestStatusTypeDb1 D
reqeustStatusTypeDbE X
)X Y
{ 	
return 
reqeustStatusTypeDb &
switch' -
{ 
RequestStatusTypeDb #
.# $
Opened$ *
=>+ -
RequestStatusType. ?
.? @
Opened@ F
,F G
RequestStatusTypeDb #
.# $

InProgress$ .
=>/ 1
RequestStatusType2 C
.C D

InProgressD N
,N O
RequestStatusTypeDb #
.# $
Closed$ *
=>+ -
RequestStatusType. ?
.? @
Closed@ F
,F G
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
reqeustStatusTypeDbB U
)U V
,V W
reqeustStatusTypeDbX k
,k l
$str	m É
)
É Ñ
,
Ñ Ö
} 
; 
} 	
public 
static 
RequestStatusTypeDb )
ToDb* .
(. /
RequestStatusType/ @#
requestStatusTypeDomainA X
)X Y
{ 	
return #
requestStatusTypeDomain *
switch+ 1
{ 
RequestStatusType !
.! "
Opened" (
=>) +
RequestStatusTypeDb, ?
.? @
Opened@ F
,F G
RequestStatusType !
.! "

InProgress" ,
=>- /
RequestStatusTypeDb0 C
.C D

InProgressD N
,N O
RequestStatusType !
.! "
Closed" (
=>) +
RequestStatusTypeDb, ?
.? @
Closed@ F
,F G
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B#
requestStatusTypeDomainB Y
)Y Z
,Z [#
requestStatusTypeDomain\ s
,s t
$str	u ã
)
ã å
,
å ç
}   
;   
}!! 	
}"" 
}## Ç
ë/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/LineStatusTypeConverter.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (

Converters( 2
.2 3
Enums3 8
{ 
public 

static 
class #
LineStatusTypeConverter /
{ 
public 
static 
LineStatusType $
ToDomain% -
(- .
LineStatusTypeDb. >
lineStatusTypeDb? O
)O P
{		 	
return

 
lineStatusTypeDb

 #
switch

$ *
{ 
LineStatusTypeDb  
.  !
Working! (
=>) +
LineStatusType, :
.: ;
Working; B
,B C
LineStatusTypeDb  
.  !
	OnService! *
=>+ -
LineStatusType. <
.< =
	OnService= F
,F G
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
lineStatusTypeDbB R
)R S
,S T
lineStatusTypeDbU e
,e f
$strg }
)} ~
,~ 
} 
; 
} 	
public 
static 
LineStatusTypeDb &
ToDb' +
(+ ,
LineStatusType, : 
lineStatusTypeDomain; O
)O P
{ 	
return  
lineStatusTypeDomain '
switch( .
{ 
LineStatusType 
. 
Working &
=>' )
LineStatusTypeDb* :
.: ;
Working; B
,B C
LineStatusType 
. 
	OnService (
=>) +
LineStatusTypeDb, <
.< =
	OnService= F
,F G
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B 
lineStatusTypeDomainB V
)V W
,W X 
lineStatusTypeDomainY m
,m n
$str	o Ö
)
Ö Ü
,
Ü á
} 
; 
} 	
} 
} •
ò/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/Enums/DetailOrderStatusTypeConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
.		2 3
Enums		3 8
{

 
public 

static 
class *
DetailOrderStatusTypeConverter 6
{ 
public 
static !
DetailOrderStatusType +
ToDomain, 4
(4 5
DetailOrderStatusDb5 H
detailOrderStatusDbI \
)\ ]
{ 	
return 
detailOrderStatusDb &
switch' -
{ 
DetailOrderStatusDb #
.# $

Processing$ .
=>/ 1!
DetailOrderStatusType2 G
.G H

ProcessingH R
,R S
DetailOrderStatusDb #
.# $
InWork$ *
=>+ -!
DetailOrderStatusType. C
.C D
InWorkD J
,J K
DetailOrderStatusDb #
.# $

InDelivery$ .
=>/ 1!
DetailOrderStatusType2 G
.G H

InDeliveryH R
,R S
DetailOrderStatusDb #
.# $
Done$ (
=>) +!
DetailOrderStatusType, A
.A B
DoneB F
,F G
_ 
=> 
throw 
new '
ArgumentOutOfRangeException :
(: ;
nameof; A
(A B
detailOrderStatusDbB U
)U V
,V W
detailOrderStatusDbX k
,k l
$str	m É
)
É Ñ
,
Ñ Ö
} 
; 
} 	
public 
static 
DetailOrderStatusDb )
ToDb* .
(. /!
DetailOrderStatusType/ D'
detailOrderStatusTypeDomainE `
)` a
{ 	
return '
detailOrderStatusTypeDomain .
switch/ 5
{ !
DetailOrderStatusType %
.% &

Processing& 0
=>1 3
DetailOrderStatusDb4 G
.G H

ProcessingH R
,R S!
DetailOrderStatusType %
.% &
InWork& ,
=>- /
DetailOrderStatusDb0 C
.C D
InWorkD J
,J K!
DetailOrderStatusType %
.% &

InDelivery& 0
=>1 3
DetailOrderStatusDb4 G
.G H

InDeliveryH R
,R S!
DetailOrderStatusType   %
.  % &
Done  & *
=>  + -
DetailOrderStatusDb  . A
.  A B
Done  B F
,  F G
_!! 
=>!! 
throw!! 
new!! '
ArgumentOutOfRangeException!! :
(!!: ;
nameof!!; A
(!!A B'
detailOrderStatusTypeDomain!!B ]
)!!] ^
,!!^ _'
detailOrderStatusTypeDomain!!` {
,!!{ |
$str	!!} ì
)
!!ì î
,
!!î ï
}"" 
;"" 
}## 	
}$$ 
}%% ‚
à/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/DetailOrderConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
{

 
public 

static 
class  
DetailOrderConverter ,
{ 
public 
static 
DetailOrder !
?! "
ToDomain# +
(+ ,
DetailOrderDb, 9
?9 :
detailOrderDb; H
)H I
{ 	
if 
( 
detailOrderDb 
==  
null! %
)% &
{ 
return 
null 
; 
} 
var 
detailOrderStatus !
=" #*
DetailOrderStatusTypeConverter$ B
.B C
ToDomainC K
(K L
detailOrderDbL Y
.Y Z
StatusZ `
)` a
;a b
return 
new 
DetailOrder "
(" #
id# %
:% &
detailOrderDb' 4
.4 5
Id5 7
,7 8
userId 
: 
detailOrderDb %
.% &
UserId& ,
,, -
status 
: 
detailOrderStatus )
,) *

totalPrice 
: 
detailOrderDb )
.) *

TotalPrice* 4
,4 5
	orderDate 
: 
detailOrderDb (
.( )
	OrderDate) 2
,2 3
orderDetails 
: 
detailOrderDb +
.+ ,
OrderDetails, 8
?8 9
.9 :
Select: @
(@ A 
OrderDetailConverterA U
.U V
ToDomainV ^
)^ _
._ `
ToList` f
(f g
)g h
??i k
newl o
Listp t
<t u
OrderDetail	u Ä
>
Ä Å
(
Å Ç
)
Ç É
)
É Ñ
;
Ñ Ö
} 	
public 
static 
DetailOrderDb #
?# $
ToDb% )
() *
DetailOrder* 5
?5 6
detailOrderDomain7 H
)H I
{ 	
if   
(   
detailOrderDomain   !
==  " $
null  % )
)  ) *
{!! 
return"" 
null"" 
;"" 
}## 
var%% 
detailOrderStatus%% !
=%%" #*
DetailOrderStatusTypeConverter%%$ B
.%%B C
ToDb%%C G
(%%G H
detailOrderDomain%%H Y
.%%Y Z
Status%%Z `
)%%` a
;%%a b
return'' 
new'' 
DetailOrderDb'' $
(''$ %
id''% '
:''' (
detailOrderDomain'') :
.'': ;
Id''; =
,''= >
userId(( 
:(( 
detailOrderDomain(( )
.(() *
UserId((* 0
,((0 1
status)) 
:)) 
detailOrderStatus)) )
,))) *

totalPrice** 
:** 
detailOrderDomain** -
.**- .

TotalPrice**. 8
,**8 9
	orderDate++ 
:++ 
detailOrderDomain++ ,
.++, -
	OrderDate++- 6
)++6 7
;++7 8
},, 	
}-- 
}.. ˚
É/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/DetailConverter.cs
	namespace		 	
ProdMonitor		
 
.		 

DataAccess		  
.		  !
Models		! '
.		' (

Converters		( 2
{

 
public 

static 
class 
DetailConverter '
{ 
public 
static 
Detail 
? 
ToDomain &
(& '
DetailDb' /
?/ 0
detailDb1 9
)9 :
{ 	
if 
( 
detailDb 
== 
null  
)  !
{ 
return 
null 
; 
} 
return 
new 
Detail 
( 
id  
:  !
detailDb" *
.* +
Id+ -
,- .
name 
: 
detailDb 
. 
Name #
,# $
country 
: 
detailDb !
.! "
Country" )
,) *
amount 
: 
detailDb  
.  !
Amount! '
,' (
price 
: 
detailDb 
.  
Price  %
,% &
length 
: 
detailDb  
.  !
Length! '
,' (
height 
: 
detailDb  
.  !
Height! '
,' (
width 
: 
detailDb 
.  
Width  %
,% &
assemblyLines 
: 
detailDb '
.' (
AssemblyLines( 5
?5 6
.6 7
Select7 =
(= >!
AssemblyLineConverter> S
.S T
ToDomainT \
)\ ]
.] ^
ToList^ d
(d e
)e f
??g i
newj m
Listn r
<r s
AssemblyLines 
?	 Ä
>
Ä Å
(
Å Ç
)
Ç É
,
É Ñ
orderDetails 
: 
detailDb &
.& '
OrderDetails' 3
?3 4
.4 5
Select5 ;
(; < 
OrderDetailConverter< P
.P Q
ToDomainQ Y
)Y Z
.Z [
ToList[ a
(a b
)b c
??d f
newg j
Listk o
<o p
OrderDetailp {
>{ |
(| }
)} ~
)~ 
;	 Ä
} 	
public!! 
static!! 
DetailDb!! 
?!! 
ToDb!!  $
(!!$ %
Detail!!% +
detailDomain!!, 8
)!!8 9
{"" 	
if## 
(## 
detailDomain## 
==## 
null##  $
)##$ %
{$$ 
return%% 
null%% 
;%% 
}&& 
return(( 
new(( 
DetailDb(( 
(((  
id((  "
:((" #
detailDomain(($ 0
.((0 1
Id((1 3
,((3 4
name)) 
:)) 
detailDomain)) "
.))" #
Name))# '
,))' (
country** 
:** 
detailDomain** %
.**% &
Country**& -
,**- .
amount++ 
:++ 
detailDomain++ $
.++$ %
Amount++% +
,+++ ,
price,, 
:,, 
detailDomain,, #
.,,# $
Price,,$ )
,,,) *
length-- 
:-- 
detailDomain-- $
.--$ %
Length--% +
,--+ ,
height.. 
:.. 
detailDomain.. $
...$ %
Height..% +
,..+ ,
width// 
:// 
detailDomain// #
.//# $
Width//$ )
)//) *
;//* +
}00 	
}11 
}22 ¡*
â/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/Converters/AssemblyLineConverter.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
.' (

Converters( 2
{ 
public 

static 
class !
AssemblyLineConverter -
{ 
public		 
static		 
AssemblyLine		 "
?		" #
ToDomain		$ ,
(		, -
AssemblyLineDb		- ;
?		; <
assemblyLineDb		= K
)		K L
{

 	
if 
( 
assemblyLineDb 
== !
null" &
)& '
{ 
return 
null 
; 
} 
var 

statusType 
= #
LineStatusTypeConverter 4
.4 5
ToDomain5 =
(= >
assemblyLineDb> L
.L M
StatusM S
)S T
;T U
return 
new 
AssemblyLine #
(# $
id 
: 
assemblyLineDb "
." #
Id# %
,% &
name 
: 
assemblyLineDb $
.$ %
Name% )
,) *
length 
: 
assemblyLineDb &
.& '
Length' -
,- .
height 
: 
assemblyLineDb &
.& '
Height' -
,- .
width 
: 
assemblyLineDb %
.% &
Width& +
,+ ,
status 
: 

statusType "
," #
downTime 
: 
assemblyLineDb (
.( )
DownTime) 1
,1 2
inspectionsPerYear "
:" #
assemblyLineDb$ 2
.2 3
InspectionsPerYear3 E
,E F
lastInspection 
: 
assemblyLineDb  .
.. /
LastInspection/ =
,= >
nextInspection 
: 
assemblyLineDb  .
.. /
NextInspection/ =
,= >

defectRate 
: 
assemblyLineDb *
.* +

DefectRate+ 5
,5 6
tractors 
: 
assemblyLineDb (
.( )
Tractors) 1
?1 2
.2 3
Select3 9
(9 :
TractorConverter: J
.J K
ToDomainK S
)S T
.T U
ToListU [
([ \
)\ ]
??^ `
newa d
Liste i
<i j
Tractorj q
>q r
(r s
)s t
,t u
details 
: 
assemblyLineDb '
.' (
Details( /
?/ 0
.0 1
Select1 7
(7 8
DetailConverter8 G
.G H
ToDomainH P
)P Q
.Q R
ToListR X
(X Y
)Y Z
??[ ]
new^ a
Listb f
<f g
Detailg m
>m n
(n o
)o p
)   
;   
}!! 	
public## 
static## 
AssemblyLineDb## $
?##$ %
ToDb##& *
(##* +
AssemblyLine##+ 7
?##7 8
assemblyLineDomain##9 K
)##K L
{$$ 	
if%% 
(%% 
assemblyLineDomain%% "
==%%# %
null%%& *
)%%* +
{&& 
return'' 
null'' 
;'' 
}(( 
var** 

statusType** 
=** #
LineStatusTypeConverter** 4
.**4 5
ToDb**5 9
(**9 :
assemblyLineDomain**: L
.**L M
Status**M S
)**S T
;**T U
return,, 
new,, 
AssemblyLineDb,, %
(,,% &
id-- 
:-- 
assemblyLineDomain-- &
.--& '
Id--' )
,--) *
name.. 
:.. 
assemblyLineDomain.. (
...( )
Name..) -
,..- .
length// 
:// 
assemblyLineDomain// *
.//* +
Length//+ 1
,//1 2
height00 
:00 
assemblyLineDomain00 *
.00* +
Height00+ 1
,001 2
width11 
:11 
assemblyLineDomain11 )
.11) *
Width11* /
,11/ 0
status22 
:22 

statusType22 "
,22" #
downTime33 
:33 
assemblyLineDomain33 ,
.33, -
DownTime33- 5
,335 6
inspectionsPerYear44 "
:44" #
assemblyLineDomain44$ 6
.446 7
InspectionsPerYear447 I
,44I J
lastInspection55 
:55 
assemblyLineDomain55  2
.552 3
LastInspection553 A
,55A B
nextInspection66 
:66 
assemblyLineDomain66  2
.662 3
NextInspection663 A
,66A B

defectRate77 
:77 
assemblyLineDomain77 .
.77. /

DefectRate77/ 9
)88 
;88 
}99 	
}:: 
};; Ê$
w/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Models/AssemblyLIneDb.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Models! '
{ 
public 

class 
AssemblyLineDb 
{ 
public		 
Guid		 
Id		 
{		 
get		 
;		 
set		 !
;		! "
}		# $
public

 
string

 
Name

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
float 
Length 
{ 
get !
;! "
set# &
;& '
}( )
public 
float 
Height 
{ 
get !
;! "
set# &
;& '
}( )
public 
float 
Width 
{ 
get  
;  !
set" %
;% &
}' (
public 
LineStatusTypeDb 
Status  &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
DownTime 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
InspectionsPerYear %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DateOnly 
LastInspection &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateOnly 
NextInspection &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
float 

DefectRate 
{  !
get" %
;% &
set' *
;* +
}, -
public 
virtual 
ICollection "
<" #
	TractorDb# ,
>, -
Tractors. 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
virtual 
ICollection "
<" #
ServiceReportDb# 2
>2 3
ServiceReports4 B
{C D
getE H
;H I
setJ M
;M N
}O P
public 
virtual 
ICollection "
<" #
ServiceRequestDb# 3
>3 4
ServiceRequests5 D
{E F
getG J
;J K
setL O
;O P
}Q R
public 
virtual 
ICollection "
<" #
DetailDb# +
>+ ,
Details- 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
AssemblyLineDb 
( 
Guid 
id 
, 
string 
name 
, 
float 
length 
, 
float 
height 
, 
float 
width 
, 
LineStatusTypeDb   
status   #
,  # $
int!! 
downTime!! 
,!! 
int"" 
inspectionsPerYear"" "
,""" #
DateOnly## 
lastInspection## #
,### $
DateOnly$$ 
nextInspection$$ #
,$$# $
float%% 

defectRate%% 
)%% 
{&& 	
Id'' 
='' 
id'' 
;'' 
Name(( 
=(( 
name(( 
;(( 
Length)) 
=)) 
length)) 
;)) 
Height** 
=** 
height** 
;** 
Width++ 
=++ 
width++ 
;++ 
Status,, 
=,, 
status,, 
;,, 
DownTime-- 
=-- 
downTime-- 
;--  
InspectionsPerYear.. 
=..  
inspectionsPerYear..! 3
;..3 4
LastInspection// 
=// 
lastInspection// +
;//+ ,
NextInspection00 
=00 
nextInspection00 +
;00+ ,

DefectRate11 
=11 

defectRate11 #
;11# $
}22 	
public44 
AssemblyLineDb44 
(44 
)44 
{55 	
}66 	
}77 
}88 Î
é/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Migrations/20250216063101_AddTwoFactorToUser.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !

Migrations! +
{ 
public		 

partial		 
class		 
AddTwoFactorToUser		 +
:		, -
	Migration		. 7
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str %
,% &
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
DateTime' /
>/ 0
(0 1
name 
: 
$str +
,+ ,
table 
: 
$str 
, 
type 
: 
$str 0
,0 1
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str %
,% &
table   
:   
$str   
)   
;    
migrationBuilder"" 
."" 

DropColumn"" '
(""' (
name## 
:## 
$str## +
,##+ ,
table$$ 
:$$ 
$str$$ 
)$$ 
;$$  
}%% 	
}&& 
}'' Ä
ô/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Migrations/20240929081318_RemoveProductionAddDefectRate.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !

Migrations! +
{ 
public 

partial 
class )
RemoveProductionAddDefectRate 6
:7 8
	Migration9 B
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str "
," #
table 
: 
$str &
)& '
;' (
migrationBuilder 
. 
AlterColumn (
<( )
float) .
>. /
(/ 0
name 
: 
$str "
," #
table 
: 
$str &
,& '
type 
: 
$str 
, 
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str "
)" #
;# $
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str "
," #
table 
: 
$str &
,& '
type   
:   
$str   
,    
nullable!! 
:!! 
false!! 
,!!  

oldClrType"" 
:"" 
typeof"" "
(""" #
float""# (
)""( )
,"") *
oldType## 
:## 
$str## 
)##  
;##  !
migrationBuilder%% 
.%% 
	AddColumn%% &
<%%& '
int%%' *
>%%* +
(%%+ ,
name&& 
:&& 
$str&& "
,&&" #
table'' 
:'' 
$str'' &
,''& '
type(( 
:(( 
$str(( 
,((  
nullable)) 
:)) 
false)) 
,))  
defaultValue** 
:** 
$num** 
)**  
;**  !
}++ 	
},, 
}-- 
ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Migrations/20240910015612_AddSupplyTable.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !

Migrations! +
{ 
public		 

partial		 
class		 
AddSupplyTable		 '
:		( )
	Migration		* 3
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
DetailId 
= 
table $
.$ %
Column% +
<+ ,
Guid, 0
>0 1
(1 2
type2 6
:6 7
$str8 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q

SupplyDate 
=  
table! &
.& '
Column' -
<- .
DateTime. 6
>6 7
(7 8
type8 <
:< =
$str> X
,X Y
nullableZ b
:b c
falsed i
)i j
,j k
Quantity 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 @
,@ A
nullableB J
:J K
falseL Q
)Q R
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Id; =
)= >
;> ?
table 
. 

ForeignKey $
($ %
name 
: 
$str <
,< =
column 
: 
x  !
=>" $
x% &
.& '
DetailId' /
,/ 0
principalTable &
:& '
$str( 1
,1 2
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
}   
)   
;   
migrationBuilder"" 
."" 
CreateIndex"" (
(""( )
name## 
:## 
$str## ,
,##, -
table$$ 
:$$ 
$str$$ !
,$$! "
column%% 
:%% 
$str%% "
)%%" #
;%%# $
migrationBuilder'' 
.'' 
CreateIndex'' (
(''( )
name(( 
:(( 
$str(( &
,((& '
table)) 
:)) 
$str)) !
,))! "
column** 
:** 
$str** 
,** 
unique++ 
:++ 
true++ 
)++ 
;++ 
},, 	
	protected// 
override// 
void// 
Down//  $
(//$ %
MigrationBuilder//% 5
migrationBuilder//6 F
)//F G
{00 	
migrationBuilder11 
.11 
	DropTable11 &
(11& '
name22 
:22 
$str22  
)22  !
;22! "
}33 	
}44 
}55 ÄÓ
É/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Migrations/20240825165433_Initial.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !

Migrations! +
{ 
public		 

partial		 
class		 
Initial		  
:		! "
	Migration		# ,
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str %
,% &
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 8
,8 9
nullable: B
:B C
falseD I
)I J
,J K
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
Length 
= 
table "
." #
Column# )
<) *
float* /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
Height 
= 
table "
." #
Column# )
<) *
float* /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
Width 
= 
table !
.! "
Column" (
<( )
float) .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
Status 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q

Production 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
type3 7
:7 8
$str9 B
,B C
nullableD L
:L M
falseN S
)S T
,T U
DownTime 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
InspectionsPerYear &
=' (
table) .
.. /
Column/ 5
<5 6
int6 9
>9 :
(: ;
type; ?
:? @
$strA J
,J K
nullableL T
:T U
falseV [
)[ \
,\ ]
LastInspection "
=# $
table% *
.* +
Column+ 1
<1 2
DateOnly2 :
>: ;
(; <
type< @
:@ A
$strB H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
NextInspection "
=# $
table% *
.* +
Column+ 1
<1 2
DateOnly2 :
>: ;
(; <
type< @
:@ A
$strB H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [

DefectRate 
=  
table! &
.& '
Column' -
<- .
int. 1
>1 2
(2 3
type3 7
:7 8
$str9 B
,B C
nullableD L
:L M
falseN S
)S T
} 
, 
constraints 
: 
table "
=># %
{   
table!! 
.!! 

PrimaryKey!! $
(!!$ %
$str!!% 7
,!!7 8
x!!9 :
=>!!; =
x!!> ?
.!!? @
Id!!@ B
)!!B C
;!!C D
}"" 
)"" 
;"" 
migrationBuilder$$ 
.$$ 
CreateTable$$ (
($$( )
name%% 
:%% 
$str%% 
,%%  
columns&& 
:&& 
table&& 
=>&& !
new&&" %
{'' 
Id(( 
=(( 
table(( 
.(( 
Column(( %
<((% &
Guid((& *
>((* +
(((+ ,
type((, 0
:((0 1
$str((2 8
,((8 9
nullable((: B
:((B C
false((D I
)((I J
,((J K
Name)) 
=)) 
table))  
.))  !
Column))! '
<))' (
string))( .
>)). /
())/ 0
type))0 4
:))4 5
$str))6 <
,))< =
nullable))> F
:))F G
false))H M
)))M N
,))N O
Country** 
=** 
table** #
.**# $
Column**$ *
<*** +
string**+ 1
>**1 2
(**2 3
type**3 7
:**7 8
$str**9 ?
,**? @
nullable**A I
:**I J
false**K P
)**P Q
,**Q R
Amount++ 
=++ 
table++ "
.++" #
Column++# )
<++) *
int++* -
>++- .
(++. /
type++/ 3
:++3 4
$str++5 >
,++> ?
nullable++@ H
:++H I
false++J O
)++O P
,++P Q
Price,, 
=,, 
table,, !
.,,! "
Column,," (
<,,( )
float,,) .
>,,. /
(,,/ 0
type,,0 4
:,,4 5
$str,,6 <
,,,< =
nullable,,> F
:,,F G
false,,H M
),,M N
,,,N O
Length-- 
=-- 
table-- "
.--" #
Column--# )
<--) *
int--* -
>--- .
(--. /
type--/ 3
:--3 4
$str--5 >
,--> ?
nullable--@ H
:--H I
false--J O
)--O P
,--P Q
Height.. 
=.. 
table.. "
..." #
Column..# )
<..) *
int..* -
>..- .
(... /
type../ 3
:..3 4
$str..5 >
,..> ?
nullable..@ H
:..H I
false..J O
)..O P
,..P Q
Width// 
=// 
table// !
.//! "
Column//" (
<//( )
int//) ,
>//, -
(//- .
type//. 2
://2 3
$str//4 =
,//= >
nullable//? G
://G H
false//I N
)//N O
}00 
,00 
constraints11 
:11 
table11 "
=>11# %
{22 
table33 
.33 

PrimaryKey33 $
(33$ %
$str33% 1
,331 2
x333 4
=>335 7
x338 9
.339 :
Id33: <
)33< =
;33= >
}44 
)44 
;44 
migrationBuilder66 
.66 
CreateTable66 (
(66( )
name77 
:77 
$str77  
,77  !
columns88 
:88 
table88 
=>88 !
new88" %
{99 
Id:: 
=:: 
table:: 
.:: 
Column:: %
<::% &
Guid::& *
>::* +
(::+ ,
type::, 0
:::0 1
$str::2 8
,::8 9
nullable::: B
:::B C
false::D I
)::I J
,::J K
Model;; 
=;; 
table;; !
.;;! "
Column;;" (
<;;( )
string;;) /
>;;/ 0
(;;0 1
type;;1 5
:;;5 6
$str;;7 =
,;;= >
nullable;;? G
:;;G H
false;;I N
);;N O
,;;O P
ReleaseYear<< 
=<<  !
table<<" '
.<<' (
Column<<( .
<<<. /
int<</ 2
><<2 3
(<<3 4
type<<4 8
:<<8 9
$str<<: C
,<<C D
nullable<<E M
:<<M N
false<<O T
)<<T U
,<<U V

EngineType== 
===  
table==! &
.==& '
Column==' -
<==- .
string==. 4
>==4 5
(==5 6
type==6 :
:==: ;
$str==< B
,==B C
nullable==D L
:==L M
false==N S
)==S T
,==T U
EnginePower>> 
=>>  !
table>>" '
.>>' (
Column>>( .
<>>. /
string>>/ 5
>>>5 6
(>>6 7
type>>7 ;
:>>; <
$str>>= C
,>>C D
nullable>>E M
:>>M N
false>>O T
)>>T U
,>>U V
FrontTireSize?? !
=??" #
table??$ )
.??) *
Column??* 0
<??0 1
int??1 4
>??4 5
(??5 6
type??6 :
:??: ;
$str??< E
,??E F
nullable??G O
:??O P
false??Q V
)??V W
,??W X
BackTireSize@@  
=@@! "
table@@# (
.@@( )
Column@@) /
<@@/ 0
int@@0 3
>@@3 4
(@@4 5
type@@5 9
:@@9 :
$str@@; D
,@@D E
nullable@@F N
:@@N O
false@@P U
)@@U V
,@@V W
WheelsAmountAA  
=AA! "
tableAA# (
.AA( )
ColumnAA) /
<AA/ 0
intAA0 3
>AA3 4
(AA4 5
typeAA5 9
:AA9 :
$strAA; D
,AAD E
nullableAAF N
:AAN O
falseAAP U
)AAU V
,AAV W
TankCapacityBB  
=BB! "
tableBB# (
.BB( )
ColumnBB) /
<BB/ 0
intBB0 3
>BB3 4
(BB4 5
typeBB5 9
:BB9 :
$strBB; D
,BBD E
nullableBBF N
:BBN O
falseBBP U
)BBU V
,BBV W
EcologicalStandardCC &
=CC' (
tableCC) .
.CC. /
ColumnCC/ 5
<CC5 6
stringCC6 <
>CC< =
(CC= >
typeCC> B
:CCB C
$strCCD J
,CCJ K
nullableCCL T
:CCT U
falseCCV [
)CC[ \
,CC\ ]
LengthDD 
=DD 
tableDD "
.DD" #
ColumnDD# )
<DD) *
floatDD* /
>DD/ 0
(DD0 1
typeDD1 5
:DD5 6
$strDD7 =
,DD= >
nullableDD? G
:DDG H
falseDDI N
)DDN O
,DDO P
WidthEE 
=EE 
tableEE !
.EE! "
ColumnEE" (
<EE( )
floatEE) .
>EE. /
(EE/ 0
typeEE0 4
:EE4 5
$strEE6 <
,EE< =
nullableEE> F
:EEF G
falseEEH M
)EEM N
,EEN O
CabinHeightFF 
=FF  !
tableFF" '
.FF' (
ColumnFF( .
<FF. /
floatFF/ 4
>FF4 5
(FF5 6
typeFF6 :
:FF: ;
$strFF< B
,FFB C
nullableFFD L
:FFL M
falseFFN S
)FFS T
}GG 
,GG 
constraintsHH 
:HH 
tableHH "
=>HH# %
{II 
tableJJ 
.JJ 

PrimaryKeyJJ $
(JJ$ %
$strJJ% 2
,JJ2 3
xJJ4 5
=>JJ6 8
xJJ9 :
.JJ: ;
IdJJ; =
)JJ= >
;JJ> ?
}KK 
)KK 
;KK 
migrationBuilderMM 
.MM 
CreateTableMM (
(MM( )
nameNN 
:NN 
$strNN 
,NN 
columnsOO 
:OO 
tableOO 
=>OO !
newOO" %
{PP 
IdQQ 
=QQ 
tableQQ 
.QQ 
ColumnQQ %
<QQ% &
GuidQQ& *
>QQ* +
(QQ+ ,
typeQQ, 0
:QQ0 1
$strQQ2 8
,QQ8 9
nullableQQ: B
:QQB C
falseQQD I
)QQI J
,QQJ K
NameRR 
=RR 
tableRR  
.RR  !
ColumnRR! '
<RR' (
stringRR( .
>RR. /
(RR/ 0
typeRR0 4
:RR4 5
$strRR6 <
,RR< =
nullableRR> F
:RRF G
falseRRH M
)RRM N
,RRN O
SurnameSS 
=SS 
tableSS #
.SS# $
ColumnSS$ *
<SS* +
stringSS+ 1
>SS1 2
(SS2 3
typeSS3 7
:SS7 8
$strSS9 ?
,SS? @
nullableSSA I
:SSI J
falseSSK P
)SSP Q
,SSQ R

PatronymicTT 
=TT  
tableTT! &
.TT& '
ColumnTT' -
<TT- .
stringTT. 4
>TT4 5
(TT5 6
typeTT6 :
:TT: ;
$strTT< B
,TTB C
nullableTTD L
:TTL M
falseTTN S
)TTS T
,TTT U

DepartmentUU 
=UU  
tableUU! &
.UU& '
ColumnUU' -
<UU- .
stringUU. 4
>UU4 5
(UU5 6
typeUU6 :
:UU: ;
$strUU< B
,UUB C
nullableUUD L
:UUL M
falseUUN S
)UUS T
,UUT U
EmailVV 
=VV 
tableVV !
.VV! "
ColumnVV" (
<VV( )
stringVV) /
>VV/ 0
(VV0 1
typeVV1 5
:VV5 6
$strVV7 =
,VV= >
nullableVV? G
:VVG H
falseVVI N
)VVN O
,VVO P
PasswordHashWW  
=WW! "
tableWW# (
.WW( )
ColumnWW) /
<WW/ 0
byteWW0 4
[WW4 5
]WW5 6
>WW6 7
(WW7 8
typeWW8 <
:WW< =
$strWW> E
,WWE F
nullableWWG O
:WWO P
falseWWQ V
)WWV W
,WWW X
PasswordSaltXX  
=XX! "
tableXX# (
.XX( )
ColumnXX) /
<XX/ 0
byteXX0 4
[XX4 5
]XX5 6
>XX6 7
(XX7 8
typeXX8 <
:XX< =
$strXX> E
,XXE F
nullableXXG O
:XXO P
falseXXQ V
)XXV W
,XXW X
BirthDayYY 
=YY 
tableYY $
.YY$ %
ColumnYY% +
<YY+ ,
DateOnlyYY, 4
>YY4 5
(YY5 6
typeYY6 :
:YY: ;
$strYY< B
,YYB C
nullableYYD L
:YYL M
falseYYN S
)YYS T
,YYT U
SexZZ 
=ZZ 
tableZZ 
.ZZ  
ColumnZZ  &
<ZZ& '
intZZ' *
>ZZ* +
(ZZ+ ,
typeZZ, 0
:ZZ0 1
$strZZ2 ;
,ZZ; <
nullableZZ= E
:ZZE F
falseZZG L
)ZZL M
,ZZM N
Role[[ 
=[[ 
table[[  
.[[  !
Column[[! '
<[[' (
int[[( +
>[[+ ,
([[, -
type[[- 1
:[[1 2
$str[[3 <
,[[< =
nullable[[> F
:[[F G
false[[H M
)[[M N
}\\ 
,\\ 
constraints]] 
:]] 
table]] "
=>]]# %
{^^ 
table__ 
.__ 

PrimaryKey__ $
(__$ %
$str__% /
,__/ 0
x__1 2
=>__3 5
x__6 7
.__7 8
Id__8 :
)__: ;
;__; <
}`` 
)`` 
;`` 
migrationBuilderbb 
.bb 
CreateTablebb (
(bb( )
namecc 
:cc 
$strcc .
,cc. /
columnsdd 
:dd 
tabledd 
=>dd !
newdd" %
{ee 
AssemblyLinesIdff #
=ff$ %
tableff& +
.ff+ ,
Columnff, 2
<ff2 3
Guidff3 7
>ff7 8
(ff8 9
typeff9 =
:ff= >
$strff? E
,ffE F
nullableffG O
:ffO P
falseffQ V
)ffV W
,ffW X
	DetailsIdgg 
=gg 
tablegg  %
.gg% &
Columngg& ,
<gg, -
Guidgg- 1
>gg1 2
(gg2 3
typegg3 7
:gg7 8
$strgg9 ?
,gg? @
nullableggA I
:ggI J
falseggK P
)ggP Q
}hh 
,hh 
constraintsii 
:ii 
tableii "
=>ii# %
{jj 
tablekk 
.kk 

PrimaryKeykk $
(kk$ %
$strkk% @
,kk@ A
xkkB C
=>kkD F
newkkG J
{kkK L
xkkM N
.kkN O
AssemblyLinesIdkkO ^
,kk^ _
xkk` a
.kka b
	DetailsIdkkb k
}kkl m
)kkm n
;kkn o
tablell 
.ll 

ForeignKeyll $
(ll$ %
namemm 
:mm 
$strmm W
,mmW X
columnnn 
:nn 
xnn  !
=>nn" $
xnn% &
.nn& '
AssemblyLinesIdnn' 6
,nn6 7
principalTableoo &
:oo& '
$stroo( 7
,oo7 8
principalColumnpp '
:pp' (
$strpp) -
,pp- .
onDeleteqq  
:qq  !
ReferentialActionqq" 3
.qq3 4
Cascadeqq4 ;
)qq; <
;qq< =
tablerr 
.rr 

ForeignKeyrr $
(rr$ %
namess 
:ss 
$strss K
,ssK L
columntt 
:tt 
xtt  !
=>tt" $
xtt% &
.tt& '
	DetailsIdtt' 0
,tt0 1
principalTableuu &
:uu& '
$struu( 1
,uu1 2
principalColumnvv '
:vv' (
$strvv) -
,vv- .
onDeleteww  
:ww  !
ReferentialActionww" 3
.ww3 4
Cascadeww4 ;
)ww; <
;ww< =
}xx 
)xx 
;xx 
migrationBuilderzz 
.zz 
CreateTablezz (
(zz( )
name{{ 
:{{ 
$str{{ /
,{{/ 0
columns|| 
:|| 
table|| 
=>|| !
new||" %
{}} 
AssemblyLinesId~~ #
=~~$ %
table~~& +
.~~+ ,
Column~~, 2
<~~2 3
Guid~~3 7
>~~7 8
(~~8 9
type~~9 =
:~~= >
$str~~? E
,~~E F
nullable~~G O
:~~O P
false~~Q V
)~~V W
,~~W X

TractorsId 
=  
table! &
.& '
Column' -
<- .
Guid. 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
}
ÄÄ 
,
ÄÄ 
constraints
ÅÅ 
:
ÅÅ 
table
ÅÅ "
=>
ÅÅ# %
{
ÇÇ 
table
ÉÉ 
.
ÉÉ 

PrimaryKey
ÉÉ $
(
ÉÉ$ %
$str
ÉÉ% A
,
ÉÉA B
x
ÉÉC D
=>
ÉÉE G
new
ÉÉH K
{
ÉÉL M
x
ÉÉN O
.
ÉÉO P
AssemblyLinesId
ÉÉP _
,
ÉÉ_ `
x
ÉÉa b
.
ÉÉb c

TractorsId
ÉÉc m
}
ÉÉn o
)
ÉÉo p
;
ÉÉp q
table
ÑÑ 
.
ÑÑ 

ForeignKey
ÑÑ $
(
ÑÑ$ %
name
ÖÖ 
:
ÖÖ 
$str
ÖÖ X
,
ÖÖX Y
column
ÜÜ 
:
ÜÜ 
x
ÜÜ  !
=>
ÜÜ" $
x
ÜÜ% &
.
ÜÜ& '
AssemblyLinesId
ÜÜ' 6
,
ÜÜ6 7
principalTable
áá &
:
áá& '
$str
áá( 7
,
áá7 8
principalColumn
àà '
:
àà' (
$str
àà) -
,
àà- .
onDelete
ââ  
:
ââ  !
ReferentialAction
ââ" 3
.
ââ3 4
Cascade
ââ4 ;
)
ââ; <
;
ââ< =
table
ää 
.
ää 

ForeignKey
ää $
(
ää$ %
name
ãã 
:
ãã 
$str
ãã N
,
ããN O
column
åå 
:
åå 
x
åå  !
=>
åå" $
x
åå% &
.
åå& '

TractorsId
åå' 1
,
åå1 2
principalTable
çç &
:
çç& '
$str
çç( 2
,
çç2 3
principalColumn
éé '
:
éé' (
$str
éé) -
,
éé- .
onDelete
èè  
:
èè  !
ReferentialAction
èè" 3
.
èè3 4
Cascade
èè4 ;
)
èè; <
;
èè< =
}
êê 
)
êê 
;
êê 
migrationBuilder
íí 
.
íí 
CreateTable
íí (
(
íí( )
name
ìì 
:
ìì 
$str
ìì $
,
ìì$ %
columns
îî 
:
îî 
table
îî 
=>
îî !
new
îî" %
{
ïï 
Id
ññ 
=
ññ 
table
ññ 
.
ññ 
Column
ññ %
<
ññ% &
Guid
ññ& *
>
ññ* +
(
ññ+ ,
type
ññ, 0
:
ññ0 1
$str
ññ2 8
,
ññ8 9
nullable
ññ: B
:
ññB C
false
ññD I
)
ññI J
,
ññJ K
UserId
óó 
=
óó 
table
óó "
.
óó" #
Column
óó# )
<
óó) *
Guid
óó* .
>
óó. /
(
óó/ 0
type
óó0 4
:
óó4 5
$str
óó6 <
,
óó< =
nullable
óó> F
:
óóF G
false
óóH M
)
óóM N
,
óóN O
Status
òò 
=
òò 
table
òò "
.
òò" #
Column
òò# )
<
òò) *
int
òò* -
>
òò- .
(
òò. /
type
òò/ 3
:
òò3 4
$str
òò5 >
,
òò> ?
nullable
òò@ H
:
òòH I
false
òòJ O
)
òòO P
,
òòP Q

TotalPrice
ôô 
=
ôô  
table
ôô! &
.
ôô& '
Column
ôô' -
<
ôô- .
float
ôô. 3
>
ôô3 4
(
ôô4 5
type
ôô5 9
:
ôô9 :
$str
ôô; A
,
ôôA B
nullable
ôôC K
:
ôôK L
false
ôôM R
)
ôôR S
,
ôôS T
	OrderDate
öö 
=
öö 
table
öö  %
.
öö% &
Column
öö& ,
<
öö, -
DateTime
öö- 5
>
öö5 6
(
öö6 7
type
öö7 ;
:
öö; <
$str
öö= W
,
ööW X
nullable
ööY a
:
ööa b
false
ööc h
)
ööh i
}
õõ 
,
õõ 
constraints
úú 
:
úú 
table
úú "
=>
úú# %
{
ùù 
table
ûû 
.
ûû 

PrimaryKey
ûû $
(
ûû$ %
$str
ûû% 6
,
ûû6 7
x
ûû8 9
=>
ûû: <
x
ûû= >
.
ûû> ?
Id
ûû? A
)
ûûA B
;
ûûB C
table
üü 
.
üü 

ForeignKey
üü $
(
üü$ %
name
†† 
:
†† 
$str
†† <
,
††< =
column
°° 
:
°° 
x
°°  !
=>
°°" $
x
°°% &
.
°°& '
UserId
°°' -
,
°°- .
principalTable
¢¢ &
:
¢¢& '
$str
¢¢( /
,
¢¢/ 0
principalColumn
££ '
:
££' (
$str
££) -
,
££- .
onDelete
§§  
:
§§  !
ReferentialAction
§§" 3
.
§§3 4
Cascade
§§4 ;
)
§§; <
;
§§< =
}
•• 
)
•• 
;
•• 
migrationBuilder
ßß 
.
ßß 
CreateTable
ßß (
(
ßß( )
name
®® 
:
®® 
$str
®® '
,
®®' (
columns
©© 
:
©© 
table
©© 
=>
©© !
new
©©" %
{
™™ 
Id
´´ 
=
´´ 
table
´´ 
.
´´ 
Column
´´ %
<
´´% &
Guid
´´& *
>
´´* +
(
´´+ ,
type
´´, 0
:
´´0 1
$str
´´2 8
,
´´8 9
nullable
´´: B
:
´´B C
false
´´D I
)
´´I J
,
´´J K
LineId
¨¨ 
=
¨¨ 
table
¨¨ "
.
¨¨" #
Column
¨¨# )
<
¨¨) *
Guid
¨¨* .
>
¨¨. /
(
¨¨/ 0
type
¨¨0 4
:
¨¨4 5
$str
¨¨6 <
,
¨¨< =
nullable
¨¨> F
:
¨¨F G
false
¨¨H M
)
¨¨M N
,
¨¨N O
UserId
≠≠ 
=
≠≠ 
table
≠≠ "
.
≠≠" #
Column
≠≠# )
<
≠≠) *
Guid
≠≠* .
>
≠≠. /
(
≠≠/ 0
type
≠≠0 4
:
≠≠4 5
$str
≠≠6 <
,
≠≠< =
nullable
≠≠> F
:
≠≠F G
false
≠≠H M
)
≠≠M N
,
≠≠N O
RequestDate
ÆÆ 
=
ÆÆ  !
table
ÆÆ" '
.
ÆÆ' (
Column
ÆÆ( .
<
ÆÆ. /
DateTime
ÆÆ/ 7
>
ÆÆ7 8
(
ÆÆ8 9
type
ÆÆ9 =
:
ÆÆ= >
$str
ÆÆ? Y
,
ÆÆY Z
nullable
ÆÆ[ c
:
ÆÆc d
false
ÆÆe j
)
ÆÆj k
,
ÆÆk l
Status
ØØ 
=
ØØ 
table
ØØ "
.
ØØ" #
Column
ØØ# )
<
ØØ) *
int
ØØ* -
>
ØØ- .
(
ØØ. /
type
ØØ/ 3
:
ØØ3 4
$str
ØØ5 >
,
ØØ> ?
nullable
ØØ@ H
:
ØØH I
false
ØØJ O
)
ØØO P
,
ØØP Q
Type
∞∞ 
=
∞∞ 
table
∞∞  
.
∞∞  !
Column
∞∞! '
<
∞∞' (
int
∞∞( +
>
∞∞+ ,
(
∞∞, -
type
∞∞- 1
:
∞∞1 2
$str
∞∞3 <
,
∞∞< =
nullable
∞∞> F
:
∞∞F G
false
∞∞H M
)
∞∞M N
,
∞∞N O
Description
±± 
=
±±  !
table
±±" '
.
±±' (
Column
±±( .
<
±±. /
string
±±/ 5
>
±±5 6
(
±±6 7
type
±±7 ;
:
±±; <
$str
±±= C
,
±±C D
nullable
±±E M
:
±±M N
false
±±O T
)
±±T U
,
±±U V
ServiceReportId
≤≤ #
=
≤≤$ %
table
≤≤& +
.
≤≤+ ,
Column
≤≤, 2
<
≤≤2 3
Guid
≤≤3 7
>
≤≤7 8
(
≤≤8 9
type
≤≤9 =
:
≤≤= >
$str
≤≤? E
,
≤≤E F
nullable
≤≤G O
:
≤≤O P
true
≤≤Q U
)
≤≤U V
}
≥≥ 
,
≥≥ 
constraints
¥¥ 
:
¥¥ 
table
¥¥ "
=>
¥¥# %
{
µµ 
table
∂∂ 
.
∂∂ 

PrimaryKey
∂∂ $
(
∂∂$ %
$str
∂∂% 9
,
∂∂9 :
x
∂∂; <
=>
∂∂= ?
x
∂∂@ A
.
∂∂A B
Id
∂∂B D
)
∂∂D E
;
∂∂E F
table
∑∑ 
.
∑∑ 

ForeignKey
∑∑ $
(
∑∑$ %
name
∏∏ 
:
∏∏ 
$str
∏∏ G
,
∏∏G H
column
ππ 
:
ππ 
x
ππ  !
=>
ππ" $
x
ππ% &
.
ππ& '
LineId
ππ' -
,
ππ- .
principalTable
∫∫ &
:
∫∫& '
$str
∫∫( 7
,
∫∫7 8
principalColumn
ªª '
:
ªª' (
$str
ªª) -
,
ªª- .
onDelete
ºº  
:
ºº  !
ReferentialAction
ºº" 3
.
ºº3 4
Cascade
ºº4 ;
)
ºº; <
;
ºº< =
table
ΩΩ 
.
ΩΩ 

ForeignKey
ΩΩ $
(
ΩΩ$ %
name
ææ 
:
ææ 
$str
ææ ?
,
ææ? @
column
øø 
:
øø 
x
øø  !
=>
øø" $
x
øø% &
.
øø& '
UserId
øø' -
,
øø- .
principalTable
¿¿ &
:
¿¿& '
$str
¿¿( /
,
¿¿/ 0
principalColumn
¡¡ '
:
¡¡' (
$str
¡¡) -
,
¡¡- .
onDelete
¬¬  
:
¬¬  !
ReferentialAction
¬¬" 3
.
¬¬3 4
Cascade
¬¬4 ;
)
¬¬; <
;
¬¬< =
}
√√ 
)
√√ 
;
√√ 
migrationBuilder
≈≈ 
.
≈≈ 
CreateTable
≈≈ (
(
≈≈( )
name
∆∆ 
:
∆∆ 
$str
∆∆ $
,
∆∆$ %
columns
«« 
:
«« 
table
«« 
=>
«« !
new
««" %
{
»» 
Id
…… 
=
…… 
table
…… 
.
…… 
Column
…… %
<
……% &
Guid
……& *
>
……* +
(
……+ ,
type
……, 0
:
……0 1
$str
……2 8
,
……8 9
nullable
……: B
:
……B C
false
……D I
)
……I J
,
……J K
DetailId
   
=
   
table
   $
.
  $ %
Column
  % +
<
  + ,
Guid
  , 0
>
  0 1
(
  1 2
type
  2 6
:
  6 7
$str
  8 >
,
  > ?
nullable
  @ H
:
  H I
false
  J O
)
  O P
,
  P Q
DetailOrderId
ÀÀ !
=
ÀÀ" #
table
ÀÀ$ )
.
ÀÀ) *
Column
ÀÀ* 0
<
ÀÀ0 1
Guid
ÀÀ1 5
>
ÀÀ5 6
(
ÀÀ6 7
type
ÀÀ7 ;
:
ÀÀ; <
$str
ÀÀ= C
,
ÀÀC D
nullable
ÀÀE M
:
ÀÀM N
false
ÀÀO T
)
ÀÀT U
,
ÀÀU V
DetailsAmount
ÃÃ !
=
ÃÃ" #
table
ÃÃ$ )
.
ÃÃ) *
Column
ÃÃ* 0
<
ÃÃ0 1
int
ÃÃ1 4
>
ÃÃ4 5
(
ÃÃ5 6
type
ÃÃ6 :
:
ÃÃ: ;
$str
ÃÃ< E
,
ÃÃE F
nullable
ÃÃG O
:
ÃÃO P
false
ÃÃQ V
)
ÃÃV W
}
ÕÕ 
,
ÕÕ 
constraints
ŒŒ 
:
ŒŒ 
table
ŒŒ "
=>
ŒŒ# %
{
œœ 
table
–– 
.
–– 

PrimaryKey
–– $
(
––$ %
$str
––% 6
,
––6 7
x
––8 9
=>
––: <
x
––= >
.
––> ?
Id
––? A
)
––A B
;
––B C
table
—— 
.
—— 

ForeignKey
—— $
(
——$ %
name
““ 
:
““ 
$str
““ J
,
““J K
column
”” 
:
”” 
x
””  !
=>
””" $
x
””% &
.
””& '
DetailOrderId
””' 4
,
””4 5
principalTable
‘‘ &
:
‘‘& '
$str
‘‘( 6
,
‘‘6 7
principalColumn
’’ '
:
’’' (
$str
’’) -
,
’’- .
onDelete
÷÷  
:
÷÷  !
ReferentialAction
÷÷" 3
.
÷÷3 4
Cascade
÷÷4 ;
)
÷÷; <
;
÷÷< =
table
◊◊ 
.
◊◊ 

ForeignKey
◊◊ $
(
◊◊$ %
name
ÿÿ 
:
ÿÿ 
$str
ÿÿ @
,
ÿÿ@ A
column
ŸŸ 
:
ŸŸ 
x
ŸŸ  !
=>
ŸŸ" $
x
ŸŸ% &
.
ŸŸ& '
DetailId
ŸŸ' /
,
ŸŸ/ 0
principalTable
⁄⁄ &
:
⁄⁄& '
$str
⁄⁄( 1
,
⁄⁄1 2
principalColumn
€€ '
:
€€' (
$str
€€) -
,
€€- .
onDelete
‹‹  
:
‹‹  !
ReferentialAction
‹‹" 3
.
‹‹3 4
Cascade
‹‹4 ;
)
‹‹; <
;
‹‹< =
}
›› 
)
›› 
;
›› 
migrationBuilder
ﬂﬂ 
.
ﬂﬂ 
CreateTable
ﬂﬂ (
(
ﬂﬂ( )
name
‡‡ 
:
‡‡ 
$str
‡‡ &
,
‡‡& '
columns
·· 
:
·· 
table
·· 
=>
·· !
new
··" %
{
‚‚ 
Id
„„ 
=
„„ 
table
„„ 
.
„„ 
Column
„„ %
<
„„% &
Guid
„„& *
>
„„* +
(
„„+ ,
type
„„, 0
:
„„0 1
$str
„„2 8
,
„„8 9
nullable
„„: B
:
„„B C
false
„„D I
)
„„I J
,
„„J K
LineId
‰‰ 
=
‰‰ 
table
‰‰ "
.
‰‰" #
Column
‰‰# )
<
‰‰) *
Guid
‰‰* .
>
‰‰. /
(
‰‰/ 0
type
‰‰0 4
:
‰‰4 5
$str
‰‰6 <
,
‰‰< =
nullable
‰‰> F
:
‰‰F G
false
‰‰H M
)
‰‰M N
,
‰‰N O
UserId
ÂÂ 
=
ÂÂ 
table
ÂÂ "
.
ÂÂ" #
Column
ÂÂ# )
<
ÂÂ) *
Guid
ÂÂ* .
>
ÂÂ. /
(
ÂÂ/ 0
type
ÂÂ0 4
:
ÂÂ4 5
$str
ÂÂ6 <
,
ÂÂ< =
nullable
ÂÂ> F
:
ÂÂF G
false
ÂÂH M
)
ÂÂM N
,
ÂÂN O
	RequestId
ÊÊ 
=
ÊÊ 
table
ÊÊ  %
.
ÊÊ% &
Column
ÊÊ& ,
<
ÊÊ, -
Guid
ÊÊ- 1
>
ÊÊ1 2
(
ÊÊ2 3
type
ÊÊ3 7
:
ÊÊ7 8
$str
ÊÊ9 ?
,
ÊÊ? @
nullable
ÊÊA I
:
ÊÊI J
false
ÊÊK P
)
ÊÊP Q
,
ÊÊQ R
OpenDate
ÁÁ 
=
ÁÁ 
table
ÁÁ $
.
ÁÁ$ %
Column
ÁÁ% +
<
ÁÁ+ ,
DateTime
ÁÁ, 4
>
ÁÁ4 5
(
ÁÁ5 6
type
ÁÁ6 :
:
ÁÁ: ;
$str
ÁÁ< V
,
ÁÁV W
nullable
ÁÁX `
:
ÁÁ` a
false
ÁÁb g
)
ÁÁg h
,
ÁÁh i
	CloseDate
ËË 
=
ËË 
table
ËË  %
.
ËË% &
Column
ËË& ,
<
ËË, -
DateTime
ËË- 5
>
ËË5 6
(
ËË6 7
type
ËË7 ;
:
ËË; <
$str
ËË= W
,
ËËW X
nullable
ËËY a
:
ËËa b
true
ËËc g
)
ËËg h
,
ËËh i
Price
ÈÈ 
=
ÈÈ 
table
ÈÈ !
.
ÈÈ! "
Column
ÈÈ" (
<
ÈÈ( )
float
ÈÈ) .
>
ÈÈ. /
(
ÈÈ/ 0
type
ÈÈ0 4
:
ÈÈ4 5
$str
ÈÈ6 <
,
ÈÈ< =
nullable
ÈÈ> F
:
ÈÈF G
true
ÈÈH L
)
ÈÈL M
,
ÈÈM N
Description
ÍÍ 
=
ÍÍ  !
table
ÍÍ" '
.
ÍÍ' (
Column
ÍÍ( .
<
ÍÍ. /
string
ÍÍ/ 5
>
ÍÍ5 6
(
ÍÍ6 7
type
ÍÍ7 ;
:
ÍÍ; <
$str
ÍÍ= C
,
ÍÍC D
nullable
ÍÍE M
:
ÍÍM N
true
ÍÍO S
)
ÍÍS T
}
ÎÎ 
,
ÎÎ 
constraints
ÏÏ 
:
ÏÏ 
table
ÏÏ "
=>
ÏÏ# %
{
ÌÌ 
table
ÓÓ 
.
ÓÓ 

PrimaryKey
ÓÓ $
(
ÓÓ$ %
$str
ÓÓ% 8
,
ÓÓ8 9
x
ÓÓ: ;
=>
ÓÓ< >
x
ÓÓ? @
.
ÓÓ@ A
Id
ÓÓA C
)
ÓÓC D
;
ÓÓD E
table
ÔÔ 
.
ÔÔ 

ForeignKey
ÔÔ $
(
ÔÔ$ %
name
 
:
 
$str
 F
,
F G
column
ÒÒ 
:
ÒÒ 
x
ÒÒ  !
=>
ÒÒ" $
x
ÒÒ% &
.
ÒÒ& '
LineId
ÒÒ' -
,
ÒÒ- .
principalTable
ÚÚ &
:
ÚÚ& '
$str
ÚÚ( 7
,
ÚÚ7 8
principalColumn
ÛÛ '
:
ÛÛ' (
$str
ÛÛ) -
,
ÛÛ- .
onDelete
ÙÙ  
:
ÙÙ  !
ReferentialAction
ÙÙ" 3
.
ÙÙ3 4
Cascade
ÙÙ4 ;
)
ÙÙ; <
;
ÙÙ< =
table
ıı 
.
ıı 

ForeignKey
ıı $
(
ıı$ %
name
ˆˆ 
:
ˆˆ 
$str
ˆˆ K
,
ˆˆK L
column
˜˜ 
:
˜˜ 
x
˜˜  !
=>
˜˜" $
x
˜˜% &
.
˜˜& '
	RequestId
˜˜' 0
,
˜˜0 1
principalTable
¯¯ &
:
¯¯& '
$str
¯¯( 9
,
¯¯9 :
principalColumn
˘˘ '
:
˘˘' (
$str
˘˘) -
,
˘˘- .
onDelete
˙˙  
:
˙˙  !
ReferentialAction
˙˙" 3
.
˙˙3 4
Cascade
˙˙4 ;
)
˙˙; <
;
˙˙< =
table
˚˚ 
.
˚˚ 

ForeignKey
˚˚ $
(
˚˚$ %
name
¸¸ 
:
¸¸ 
$str
¸¸ >
,
¸¸> ?
column
˝˝ 
:
˝˝ 
x
˝˝  !
=>
˝˝" $
x
˝˝% &
.
˝˝& '
UserId
˝˝' -
,
˝˝- .
principalTable
˛˛ &
:
˛˛& '
$str
˛˛( /
,
˛˛/ 0
principalColumn
ˇˇ '
:
ˇˇ' (
$str
ˇˇ) -
,
ˇˇ- .
onDelete
ÄÄ  
:
ÄÄ  !
ReferentialAction
ÄÄ" 3
.
ÄÄ3 4
Cascade
ÄÄ4 ;
)
ÄÄ; <
;
ÄÄ< =
}
ÅÅ 
)
ÅÅ 
;
ÅÅ 
migrationBuilder
ÉÉ 
.
ÉÉ 
CreateIndex
ÉÉ (
(
ÉÉ( )
name
ÑÑ 
:
ÑÑ 
$str
ÑÑ ;
,
ÑÑ; <
table
ÖÖ 
:
ÖÖ 
$str
ÖÖ /
,
ÖÖ/ 0
column
ÜÜ 
:
ÜÜ 
$str
ÜÜ #
)
ÜÜ# $
;
ÜÜ$ %
migrationBuilder
àà 
.
àà 
CreateIndex
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ =
,
ââ= >
table
ää 
:
ää 
$str
ää 0
,
ää0 1
column
ãã 
:
ãã 
$str
ãã $
)
ãã$ %
;
ãã% &
migrationBuilder
çç 
.
çç 
CreateIndex
çç (
(
çç( )
name
éé 
:
éé 
$str
éé +
,
éé+ ,
table
èè 
:
èè 
$str
èè &
,
èè& '
column
êê 
:
êê 
$str
êê 
,
êê 
unique
ëë 
:
ëë 
true
ëë 
)
ëë 
;
ëë 
migrationBuilder
ìì 
.
ìì 
CreateIndex
ìì (
(
ìì( )
name
îî 
:
îî 
$str
îî *
,
îî* +
table
ïï 
:
ïï 
$str
ïï %
,
ïï% &
column
ññ 
:
ññ 
$str
ññ 
,
ññ 
unique
óó 
:
óó 
true
óó 
)
óó 
;
óó 
migrationBuilder
ôô 
.
ôô 
CreateIndex
ôô (
(
ôô( )
name
öö 
:
öö 
$str
öö .
,
öö. /
table
õõ 
:
õõ 
$str
õõ %
,
õõ% &
column
úú 
:
úú 
$str
úú  
)
úú  !
;
úú! "
migrationBuilder
ûû 
.
ûû 
CreateIndex
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü %
,
üü% &
table
†† 
:
†† 
$str
††  
,
††  !
column
°° 
:
°° 
$str
°° 
,
°° 
unique
¢¢ 
:
¢¢ 
true
¢¢ 
)
¢¢ 
;
¢¢ 
migrationBuilder
§§ 
.
§§ 
CreateIndex
§§ (
(
§§( )
name
•• 
:
•• 
$str
•• 0
,
••0 1
table
¶¶ 
:
¶¶ 
$str
¶¶ %
,
¶¶% &
column
ßß 
:
ßß 
$str
ßß "
)
ßß" #
;
ßß# $
migrationBuilder
©© 
.
©© 
CreateIndex
©© (
(
©©( )
name
™™ 
:
™™ 
$str
™™ 5
,
™™5 6
table
´´ 
:
´´ 
$str
´´ %
,
´´% &
column
¨¨ 
:
¨¨ 
$str
¨¨ '
)
¨¨' (
;
¨¨( )
migrationBuilder
ÆÆ 
.
ÆÆ 
CreateIndex
ÆÆ (
(
ÆÆ( )
name
ØØ 
:
ØØ 
$str
ØØ *
,
ØØ* +
table
∞∞ 
:
∞∞ 
$str
∞∞ %
,
∞∞% &
column
±± 
:
±± 
$str
±± 
,
±± 
unique
≤≤ 
:
≤≤ 
true
≤≤ 
)
≤≤ 
;
≤≤ 
migrationBuilder
¥¥ 
.
¥¥ 
CreateIndex
¥¥ (
(
¥¥( )
name
µµ 
:
µµ 
$str
µµ ,
,
µµ, -
table
∂∂ 
:
∂∂ 
$str
∂∂ '
,
∂∂' (
column
∑∑ 
:
∑∑ 
$str
∑∑ 
,
∑∑ 
unique
∏∏ 
:
∏∏ 
true
∏∏ 
)
∏∏ 
;
∏∏ 
migrationBuilder
∫∫ 
.
∫∫ 
CreateIndex
∫∫ (
(
∫∫( )
name
ªª 
:
ªª 
$str
ªª 0
,
ªª0 1
table
ºº 
:
ºº 
$str
ºº '
,
ºº' (
column
ΩΩ 
:
ΩΩ 
$str
ΩΩ  
)
ΩΩ  !
;
ΩΩ! "
migrationBuilder
øø 
.
øø 
CreateIndex
øø (
(
øø( )
name
¿¿ 
:
¿¿ 
$str
¿¿ 3
,
¿¿3 4
table
¡¡ 
:
¡¡ 
$str
¡¡ '
,
¡¡' (
column
¬¬ 
:
¬¬ 
$str
¬¬ #
,
¬¬# $
unique
√√ 
:
√√ 
true
√√ 
)
√√ 
;
√√ 
migrationBuilder
≈≈ 
.
≈≈ 
CreateIndex
≈≈ (
(
≈≈( )
name
∆∆ 
:
∆∆ 
$str
∆∆ 0
,
∆∆0 1
table
«« 
:
«« 
$str
«« '
,
««' (
column
»» 
:
»» 
$str
»»  
)
»»  !
;
»»! "
migrationBuilder
   
.
   
CreateIndex
   (
(
  ( )
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ -
,
ÀÀ- .
table
ÃÃ 
:
ÃÃ 
$str
ÃÃ (
,
ÃÃ( )
column
ÕÕ 
:
ÕÕ 
$str
ÕÕ 
,
ÕÕ 
unique
ŒŒ 
:
ŒŒ 
true
ŒŒ 
)
ŒŒ 
;
ŒŒ 
migrationBuilder
–– 
.
–– 
CreateIndex
–– (
(
––( )
name
—— 
:
—— 
$str
—— 1
,
——1 2
table
““ 
:
““ 
$str
““ (
,
““( )
column
”” 
:
”” 
$str
””  
)
””  !
;
””! "
migrationBuilder
’’ 
.
’’ 
CreateIndex
’’ (
(
’’( )
name
÷÷ 
:
÷÷ 
$str
÷÷ 1
,
÷÷1 2
table
◊◊ 
:
◊◊ 
$str
◊◊ (
,
◊◊( )
column
ÿÿ 
:
ÿÿ 
$str
ÿÿ  
)
ÿÿ  !
;
ÿÿ! "
migrationBuilder
⁄⁄ 
.
⁄⁄ 
CreateIndex
⁄⁄ (
(
⁄⁄( )
name
€€ 
:
€€ 
$str
€€ &
,
€€& '
table
‹‹ 
:
‹‹ 
$str
‹‹ !
,
‹‹! "
column
›› 
:
›› 
$str
›› 
,
›› 
unique
ﬁﬁ 
:
ﬁﬁ 
true
ﬁﬁ 
)
ﬁﬁ 
;
ﬁﬁ 
migrationBuilder
‡‡ 
.
‡‡ 
CreateIndex
‡‡ (
(
‡‡( )
name
·· 
:
·· 
$str
·· #
,
··# $
table
‚‚ 
:
‚‚ 
$str
‚‚ 
,
‚‚ 
column
„„ 
:
„„ 
$str
„„ 
,
„„ 
unique
‰‰ 
:
‰‰ 
true
‰‰ 
)
‰‰ 
;
‰‰ 
}
ÂÂ 	
	protected
ËË 
override
ËË 
void
ËË 
Down
ËË  $
(
ËË$ %
MigrationBuilder
ËË% 5
migrationBuilder
ËË6 F
)
ËËF G
{
ÈÈ 	
migrationBuilder
ÍÍ 
.
ÍÍ 
	DropTable
ÍÍ &
(
ÍÍ& '
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ .
)
ÎÎ. /
;
ÎÎ/ 0
migrationBuilder
ÌÌ 
.
ÌÌ 
	DropTable
ÌÌ &
(
ÌÌ& '
name
ÓÓ 
:
ÓÓ 
$str
ÓÓ /
)
ÓÓ/ 0
;
ÓÓ0 1
migrationBuilder
 
.
 
	DropTable
 &
(
& '
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ $
)
ÒÒ$ %
;
ÒÒ% &
migrationBuilder
ÛÛ 
.
ÛÛ 
	DropTable
ÛÛ &
(
ÛÛ& '
name
ÙÙ 
:
ÙÙ 
$str
ÙÙ &
)
ÙÙ& '
;
ÙÙ' (
migrationBuilder
ˆˆ 
.
ˆˆ 
	DropTable
ˆˆ &
(
ˆˆ& '
name
˜˜ 
:
˜˜ 
$str
˜˜  
)
˜˜  !
;
˜˜! "
migrationBuilder
˘˘ 
.
˘˘ 
	DropTable
˘˘ &
(
˘˘& '
name
˙˙ 
:
˙˙ 
$str
˙˙ $
)
˙˙$ %
;
˙˙% &
migrationBuilder
¸¸ 
.
¸¸ 
	DropTable
¸¸ &
(
¸¸& '
name
˝˝ 
:
˝˝ 
$str
˝˝ 
)
˝˝  
;
˝˝  !
migrationBuilder
ˇˇ 
.
ˇˇ 
	DropTable
ˇˇ &
(
ˇˇ& '
name
ÄÄ 
:
ÄÄ 
$str
ÄÄ '
)
ÄÄ' (
;
ÄÄ( )
migrationBuilder
ÇÇ 
.
ÇÇ 
	DropTable
ÇÇ &
(
ÇÇ& '
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ %
)
ÉÉ% &
;
ÉÉ& '
migrationBuilder
ÖÖ 
.
ÖÖ 
	DropTable
ÖÖ &
(
ÖÖ& '
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ 
)
ÜÜ 
;
ÜÜ 
}
áá 	
}
àà 
}ââ √%
|/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Context/ProdMonitorContext.cs
	namespace 	
ProdMonitor
 
. 

DataAccess  
.  !
Context! (
{ 
public 

class 
ProdMonitorContext #
:$ %
	DbContext& /
{		 
public

 
DbSet

 
<

 
AssemblyLineDb

 #
>

# $
AssemblyLines

% 2
{

3 4
get

5 8
;

8 9
set

: =
;

= >
}

? @
public 
DbSet 
< 
DetailDb 
> 
Details &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 
DetailOrderDb "
>" #
DetailOrders$ 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DbSet 
< 
OrderDetailDb "
>" #
OrderDetails$ 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DbSet 
< 
ServiceReportDb $
>$ %
ServiceReports& 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
public 
DbSet 
< 
ServiceRequestDb %
>% &
ServiceRequests' 6
{7 8
get9 <
;< =
set> A
;A B
}C D
public 
DbSet 
< 
	TractorDb 
> 
Tractors  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
UserDb 
> 
Users "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
SupplyDb 
> 
Supplies '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
ProdMonitorContext !
(! "
DbContextOptions" 2
<2 3
ProdMonitorContext3 E
>E F
optionsG N
)N O
:P Q
baseR V
(V W
optionsW ^
)^ _
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /'
AssemblyLineDbConfiguration0 K
(K L
)L M
)M N
;N O
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /!
DetailDbConfiguration0 E
(E F
)F G
)G H
;H I
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /&
DetailOrderDbConfiguration0 J
(J K
)K L
)L M
;M N
modelBuilder 
. 
ApplyConfiguration +
(+ ,
new, /&
OrderDetailDbConfiguration0 J
(J K
)K L
)L M
;M N
modelBuilder   
.   
ApplyConfiguration   +
(  + ,
new  , /(
ServiceReportDbConfiguration  0 L
(  L M
)  M N
)  N O
;  O P
modelBuilder!! 
.!! 
ApplyConfiguration!! +
(!!+ ,
new!!, /)
ServiceRequestDbConfiguration!!0 M
(!!M N
)!!N O
)!!O P
;!!P Q
modelBuilder"" 
."" 
ApplyConfiguration"" +
(""+ ,
new"", /"
TractorDbConfiguration""0 F
(""F G
)""G H
)""H I
;""I J
modelBuilder## 
.## 
ApplyConfiguration## +
(##+ ,
new##, /
UserDbConfiguration##0 C
(##C D
)##D E
)##E F
;##F G
modelBuilder$$ 
.$$ 
ApplyConfiguration$$ +
($$+ ,
new$$, /!
SupplyDbConfiguration$$0 E
($$E F
)$$F G
)$$G H
;$$H I
}%% 	
}&& 
}'' ı
É/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/UserDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class 
UserDbConfiguration $
:% &$
IEntityTypeConfiguration' ?
<? @
UserDb@ F
>F G
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
UserDb0 6
>6 7
builder8 ?
)? @
{ 	
builder 
. 
HasKey 
( 
u 
=> 
u  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
u 
=> !
u" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
u 
=> !
u" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasMany 
( 
u 
=> 
u 
.  
DetailOrders  ,
), -
. 
WithOne 
( 
d 
=> 
d 
.  
User  $
)$ %
. 
HasForeignKey 
( 
d  
=>! #
d$ %
.% &
UserId& ,
), -
;- .
builder 
. 
HasMany 
( 
u 
=> 
u 
.  
ServiceReports  .
). /
. 
WithOne 
( 
r 
=> 
r 
.  
User  $
)$ %
. 
HasForeignKey 
( 
r  
=>! #
r$ %
.% &
UserId& ,
), -
;- .
builder 
.   
HasMany   
(   
u   
=>   
u   
.    
ServiceRequests    /
)  / 0
.!! 
WithOne!! 
(!! 
r!! 
=>!! 
r!! 
.!!  
User!!  $
)!!$ %
."" 
HasForeignKey"" 
("" 
r""  
=>""! #
r""$ %
.""% &
UserId""& ,
)"", -
;""- .
}## 	
}$$ 
}%% õ
Ü/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/TractorDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class "
TractorDbConfiguration '
:( )$
IEntityTypeConfiguration* B
<B C
	TractorDbC L
>L M
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
	TractorDb0 9
>9 :
builder; B
)B C
{ 	
builder 
. 
HasKey 
( 
t 
=> 
t  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
t 
=> !
t" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
t 
=> !
t" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasMany 
( 
t 
=> 
t 
.  
AssemblyLines  -
)- .
. 
WithMany 
( 
l 
=> 
l  
.  !
Tractors! )
)) *
;* +
} 	
} 
} ≠
Ö/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/SupplyDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class !
SupplyDbConfiguration &
:' ($
IEntityTypeConfiguration) A
<A B
SupplyDbB J
>J K
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
SupplyDb0 8
>8 9
builder: A
)A B
{ 	
builder 
. 
HasKey 
( 
s 
=> 
s  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
s 
=> !
s" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
s 
=> !
s" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasOne 
( 
s 
=> 
s 
. 
Detail "
)" #
. 
WithMany 
( 
d 
=> 
d 
. 
Supplies &
)& '
. 
HasForeignKey 
( 
s 
=>  
s! "
." #
DetailId# +
)+ ,
. 
OnDelete 
( 
DeleteBehavior %
.% &
Cascade& -
)- .
;. /
builder 
. 
Property 
( 
s 
=> !
s" #
.# $

SupplyDate$ .
). /
. 

IsRequired 
( 
) 
;  
builder 
. 
Property 
( 
s 
=> !
s" #
.# $
Quantity$ ,
), -
. 

IsRequired 
( 
)  
;  !
}   	
}!! 
}"" Ó
ç/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/ServiceRequestDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class )
ServiceRequestDbConfiguration .
:/ 0$
IEntityTypeConfiguration1 I
<I J
ServiceRequestDbJ Z
>Z [
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
ServiceRequestDb0 @
>@ A
builderB I
)I J
{ 	
builder 
. 
HasKey 
( 
s 
=> 
s  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
s 
=> !
s" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
s 
=> !
s" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasOne 
( 
s 
=> 
s 
. 
ServiceReport ,
), -
. 
WithOne 
( 
r 
=> 
r 
.  
ServiceRequest  .
). /
. 
HasForeignKey 
< 
ServiceReportDb .
>. /
(/ 0
r0 1
=>2 4
r5 6
.6 7
	RequestId7 @
)@ A
;A B
builder 
. 
HasOne 
( 
s 
=> 
s 
. 
AssemblyLine +
)+ ,
. 
WithMany 
( 
l 
=> 
l  
.  !
ServiceRequests! 0
)0 1
. 
HasForeignKey 
( 
l  
=>! #
l$ %
.% &
LineId& ,
), -
;- .
builder 
.   
HasOne   
(   
s   
=>   
s   
.   
User   #
)  # $
.!! 
WithMany!! 
(!! 
u!! 
=>!! 
u!!  
.!!  !
ServiceRequests!!! 0
)!!0 1
."" 
HasForeignKey"" 
("" 
s""  
=>""! #
s""$ %
.""% &
UserId""& ,
)"", -
;""- .
}$$ 	
}%% 
}&& ﬂ
å/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/ServiceReportDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class (
ServiceReportDbConfiguration -
:. /$
IEntityTypeConfiguration0 H
<H I
ServiceReportDbI X
>X Y
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
ServiceReportDb0 ?
>? @
builderA H
)H I
{ 	
builder 
. 
HasKey 
( 
r 
=> 
r  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
r 
=> !
r" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
r 
=> !
r" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasOne 
( 
r 
=> 
r 
. 
ServiceRequest -
)- .
. 
WithOne 
( 
s 
=> 
s 
.  
ServiceReport  -
)- .
;. /
builder 
. 
HasOne 
( 
r 
=> 
r 
. 
AssemblyLine +
)+ ,
. 
WithMany 
( 
l 
=> 
l  
.  !
ServiceReports! /
)/ 0
;0 1
builder 
. 
HasOne 
( 
r 
=> 
r 
. 
User #
)# $
. 
WithMany 
( 
u 
=> 
u  
.  !
ServiceReports! /
)/ 0
;0 1
}   	
}"" 
}## ˆ
ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/OrderDetailDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class &
OrderDetailDbConfiguration +
:, -$
IEntityTypeConfiguration. F
<F G
OrderDetailDbG T
>T U
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
OrderDetailDb0 =
>= >
builder? F
)F G
{ 	
builder 
. 
HasKey 
( 
o 
=> 
o  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
o 
=> !
o" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
o 
=> !
o" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasOne 
( 
o 
=> 
o 
. 
Order $
)$ %
. 
WithMany 
( 
j 
=> 
j  
.  !
OrderDetails! -
)- .
;. /
builder 
. 
HasOne 
( 
o 
=> 
o 
. 
Detail %
)% &
. 
WithMany 
( 
d 
=> 
d  
.  !
OrderDetails! -
)- .
;. /
} 	
} 
} î
ä/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/DetailOrderDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class &
DetailOrderDbConfiguration +
:, -$
IEntityTypeConfiguration. F
<F G
DetailOrderDbG T
>T U
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
DetailOrderDb0 =
>= >
builder? F
)F G
{ 	
builder 
. 
HasKey 
( 
j 
=> 
j  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
j 
=> !
j" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
j 
=> !
j" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasMany 
( 
j 
=> 
j 
.  
OrderDetails  ,
), -
. 
WithOne 
( 
o 
=> 
o 
.  
Order  %
)% &
. 
HasForeignKey 
( 
o  
=>! #
o$ %
.% &
DetailOrderId& 3
)3 4
;4 5
builder 
. 
HasOne 
( 
j 
=> 
j 
. 
User #
)# $
. 
WithMany 
( 
u 
=> 
u  
.  !
DetailOrders! -
)- .
;. /
} 	
} 
} Å
Ö/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/DetailDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class !
DetailDbConfiguration &
:' ($
IEntityTypeConfiguration) A
<A B
DetailDbB J
>J K
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
DetailDb0 8
>8 9
builder: A
)A B
{ 	
builder 
. 
HasKey 
( 
d 
=> 
d  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
d 
=> !
d" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
d 
=> !
d" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasMany 
( 
d 
=> 
d 
.  
AssemblyLines  -
)- .
. 
WithMany 
( 
l 
=> 
l  
.  !
Details! (
)( )
;) *
builder 
. 
HasMany 
( 
d 
=> 
d 
.  
OrderDetails  ,
), -
. 
WithOne 
( 
o 
=> 
o 
.  
Detail  &
)& '
. 
HasForeignKey 
( 
o  
=>! #
o$ %
.% &
DetailId& .
). /
;/ 0
} 	
} 
} Â
ã/Users/m4ks0n/study/IU7/sem7/testing/bmstu-iu7-sem7-web/src/ProdMonitor/ProdMonitor.DataAccess/Configuration/AssemblyLineDbConfiguration.cs
	namespace

 	
ProdMonitor


 
.

 

DataAccess

  
.

  !
Configuration

! .
{ 
public 

class '
AssemblyLineDbConfiguration ,
:, -$
IEntityTypeConfiguration. F
<F G
AssemblyLineDbG U
>U V
{ 
public 
void 
	Configure 
( 
EntityTypeBuilder /
</ 0
AssemblyLineDb0 >
>> ?
builder@ G
)G H
{ 	
builder 
. 
HasKey 
( 
l 
=> 
l  !
.! "
Id" $
)$ %
;% &
builder 
. 
Property 
( 
l 
=> !
l" #
.# $
Id$ &
)& '
.' (
ValueGeneratedNever( ;
(; <
)< =
.= >

IsRequired> H
(H I
)I J
;J K
builder 
. 
HasIndex 
( 
l 
=> !
l" #
.# $
Id$ &
)& '
.' (
IsUnique( 0
(0 1
)1 2
;2 3
builder 
. 
HasMany 
( 
l 
=> 
l 
.  
Tractors  (
)( )
. 
WithMany 
( 
t 
=> 
t  
.  !
AssemblyLines! .
). /
;/ 0
builder 
. 
HasMany 
( 
l 
=> 
l 
.  
Details  '
)' (
. 
WithMany 
( 
d 
=> 
d  
.  !
AssemblyLines! .
). /
;/ 0
builder 
. 
HasMany 
( 
l 
=> 
l 
.  
ServiceReports  .
). /
. 
WithOne 
( 
r 
=> 
r 
.  
AssemblyLine  ,
), -
.   
HasForeignKey   
(   
r    
=>  ! #
r  $ %
.  % &
LineId  & ,
)  , -
;  - .
builder"" 
.## 
HasMany## 
(## 
l## 
=>## 
l## 
.##  
ServiceRequests##  /
)##/ 0
.$$ 
WithOne$$ 
($$ 
r$$ 
=>$$ 
r$$ 
.$$  
AssemblyLine$$  ,
)$$, -
.%% 
HasForeignKey%% 
(%% 
r%%  
=>%%! #
r%%$ %
.%%% &
LineId%%& ,
)%%, -
;%%- .
}&& 	
}'' 
}(( 